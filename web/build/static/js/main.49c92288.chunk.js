(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{126:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=126},227:function(e,t,a){e.exports=a.p+"static/media/mascot.be2424a9.png"},242:function(e,t,a){e.exports=a(538)},248:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},249:function(e,t,a){},255:function(e,t,a){},310:function(e,t,a){},311:function(e,t,a){},312:function(e,t,a){},318:function(e,t,a){},414:function(e,t,a){},417:function(e,t,a){},418:function(e,t,a){},419:function(e,t,a){},420:function(e,t,a){},423:function(e,t,a){},424:function(e,t,a){},425:function(e,t,a){},426:function(e,t,a){},430:function(e,t){},432:function(e,t){},433:function(e,t){},434:function(e,t){},435:function(e,t){},467:function(e,t,a){},472:function(e,t,a){},527:function(e,t,a){},528:function(e,t,a){},529:function(e,t,a){},530:function(e,t,a){},531:function(e,t,a){},532:function(e,t,a){},533:function(e,t,a){},536:function(e,t,a){},537:function(e,t,a){},538:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),o=a.n(c),l=(a(60),a(13)),s=a(65),i=a(11),u=(a(248),a(249),a(75)),m=a(33),d=(a(61),a(22)),p=(a(112),a(4)),f=(a(252),a(48)),h=r.a.createContext({}),E=h.Provider,g=(h.Consumer,h),b=a(542),v=a(543),N=(a(255),f.a.SubMenu,function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(u.g)(),l=r.a.useContext(g);return Object(n.useEffect)((function(){switch(o.location.pathname){case"/":c("home");break;case"/create":c("create");break;case"/editProfile":c("users");break;case"/register":c("register");break;case"/login":c("login");break;case"/today":c("today");break;case"/notes-wiki":c("notes-wiki");break;default:"/users"===o.location.pathname.slice(0,6)?c("users"):c("home")}}),[]),r.a.createElement(f.a,{onClick:c,selectedKeys:[a],mode:"horizontal",className:"Navbar"},r.a.createElement(f.a.Item,{key:"home",onClick:function(){return o.push("/")}},r.a.createElement(p.a,{type:"home"}),"Home"),r.a.createElement(f.a.Item,{key:"today",onClick:function(){return o.push("/today")}},r.a.createElement(p.a,{type:"notification"}),"What's New"),r.a.createElement(f.a.Item,{key:"create",onClick:function(){return o.push("/create")}},r.a.createElement(p.a,{type:"file-add"}),"Create Note"),r.a.createElement(f.a.Item,{key:"notes-wiki",onClick:function(){return o.push("/notes-wiki")}},r.a.createElement(b.a,null),"Notes Wiki"),l.user.loggedIn?[r.a.createElement(f.a.Item,{key:"logout",className:"logout-item",onClick:function(){l.logout(),o.push("/")}},r.a.createElement(p.a,{type:"down-square",className:"logout-icon"}),"Logout"),r.a.createElement(f.a.Item,{key:"users",className:"profile-item",onClick:function(){o.push("/users/"+l.user.username)}},r.a.createElement(v.a,{className:"profile-icon"})," ",l.user.firstName)]:[r.a.createElement(f.a.Item,{key:"login",className:"login-item",onClick:function(){return o.push("/login")}},r.a.createElement(p.a,{type:"down-square",className:"login-icon"}),"Login"),r.a.createElement(f.a.Item,{key:"register",className:"register-item",onClick:function(){return o.push("/register")}},r.a.createElement(p.a,{type:"down-square",className:"register-icon"}),"Register")])}),y=(a(310),a(544)),O=a(545),w=a(546),j=function(){return r.a.createElement("div",{className:"Footer"},r.a.createElement("div",{className:"icons-wrapper"},r.a.createElement("a",{href:"/contributors"},r.a.createElement(y.a,{className:"icon"})),r.a.createElement("a",{href:"https://www.facebook.com/acanotes/",target:"_blank"},r.a.createElement(O.a,{className:"icon"})),r.a.createElement("a",{href:"https://www.instagram.com/acanotes/",target:"_blank"},r.a.createElement(w.a,{className:"icon"}))),r.a.createElement("div",{className:"copyright"},"Copyright \xa9 ",(new Date).getFullYear()," AcaNotes.com"))},k=(a(311),function(e){return r.a.createElement("div",{className:"MainLayout"},r.a.createElement(N,null),e.children,r.a.createElement(j,null))}),S=a(227),C=a.n(S),P=(a(312),function(){return r.a.createElement(k,null,r.a.createElement("div",{className:"MainPage"},r.a.createElement("div",{className:"hero-container"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"title"},"AcaNotes"),r.a.createElement("p",{className:"sub-title"},"The ultimate online note-sharing platform designed specifically for IB students. "))),r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Students for students."),r.a.createElement("p",null," AcaNotes is a resource that provides IB students with course notes from credible sources. Dedicated to help you achieve optimal results, we value your success over anything else. Here at AcaNotes, every student is a priority. "),r.a.createElement("div",{className:"mascot-wrapper"},r.a.createElement("img",{src:C.a,className:"mascot"}))),r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"We are directed at IB"),r.a.createElement("p",null,"Unlike Gradesaver or Litcharts, we are directed at the IB curriculum, with our resources coming straight from IB students who have exceled under the IB curriculum. ")),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"signup-btn-wrapper"},r.a.createElement("a",{href:"/register"},r.a.createElement(d.a,{type:"primary",className:"signup-btn"},"SIGN UP NOW"))))))}),x=(a(539),a(236)),I=(a(118),a(20)),T=(a(100),a(27)),_=(a(318),a(73)),A=function(e){console.error(e),e.response&&e.response.data&&e.response.data.error?l.a.error(e.response.data.error):e.message&&l.a.error(e.message)};function L(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),n=0;n<a.length;n++){for(var r=a[n];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return""}function B(e,t,a){var n=new Date;n.setTime(n.getTime()+24*a*60*60*1e3);var r="expires="+n.toUTCString();document.cookie=e+"="+t+";"+r+";path=/"}var U=function(e){if(!e)return{};var t=e.split(".");return 3!==t.length?{}:JSON.parse(window.atob(t[1].replace("-","+").replace("_","/")))};function F(){return L("acanotes_alpaca_token")}var M="",q={auth:{login:"/api/v1/auth/login.php",register:"/api/v1/auth/register.php",verify:"/api/v1/auth/verify.php"},create:{note:"/api/v1/content/createNote.php"},announcements:{latest:"/api/v1/announcements/latest.php"},users:{getTop:"/api/v1/users/getTop.php",user:"/api/v1/users/user.php",getPopularUploads:"/api/v1/users/getPopularUploads.php",userImage:"/api/v1/users/userImage.php"},notes:{getTopNotes:"/api/v1/notes/getTopNotes.php",latest:"/api/v1/notes/latest.php",note:"/api/v1/notes/note.php",ratings:"/api/v1/notes/ratings.php",search:"/api/v1/notes/searchNotes.php"}},G=a(21),R=a.n(G),z=function(){var e=Object(_.a)(),t=e.register,a=e.handleSubmit,c=e.errors,o=e.setValue,s=e.watch,u=Object(n.useState)(!1),m=Object(i.a)(u,2),f=(m[0],m[1]),h=(r.a.useContext(g),Object(n.useState)("start")),E=Object(i.a)(h,2),b=E[0],v=E[1],N=function(e){o(e.target.name,e.target.value)};return Object(n.useEffect)((function(){t({name:"username"},{required:!0}),t({name:"first"},{required:!0}),t({name:"last"}),t({name:"email"},{required:!0}),t({name:"password"},{required:!0,minLength:0}),t({name:"confirmPassword"},{required:!0,validate:function(e){return s("password")===e}})}),[]),Object(n.useEffect)((function(){console.log(c),(c.first||c.last||c.email||c.password&&"required"===c.password.type||c.confirmPassword&&"required"===c.confirmPassword.type||c.username)&&l.a.error("Missing required fields"),c.password&&"minLength"===c.password.type&&l.a.error("Password must be at least 6 characters long"),c.confirmPassword&&"validate"===c.confirmPassword.type&&l.a.error("Passwords do not match")}),[c]),r.a.createElement("div",{className:"Register"},"start"===b&&r.a.createElement(I.a,{onSubmit:a((function(e){console.log(e),e.username?(e.password||l.a.error("Missing password"),console.log(e),R.a.post(M+q.auth.register,e).then((function(e){console.log(e.data);e.data.user;v("email")})).catch(A).finally((function(){f(!1)}))):l.a.error("Missing username or email")})),className:"register-form"},r.a.createElement("h2",{className:"register-title"},"Register"),r.a.createElement(I.a.Item,{validateStatus:c.first&&"error"},r.a.createElement(T.a,{placeholder:"First name",name:"first",onChange:N})),r.a.createElement(I.a.Item,{validateStatus:c.last&&"error"},r.a.createElement(T.a,{placeholder:"Last name",name:"last",onChange:N})),r.a.createElement(I.a.Item,{validateStatus:c.username&&"error"},r.a.createElement(T.a,{prefix:r.a.createElement(p.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username",name:"username",onChange:N})),r.a.createElement(I.a.Item,{validateStatus:c.email&&"error"},r.a.createElement(T.a,{prefix:r.a.createElement(p.a,{type:"mail",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email",name:"email",onChange:N})),r.a.createElement(I.a.Item,{validateStatus:c.password&&"error"},r.a.createElement(T.a,{prefix:r.a.createElement(p.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password",name:"password",onChange:N})),r.a.createElement(I.a.Item,{validateStatus:c.confirmPassword&&"error"},r.a.createElement(T.a,{prefix:r.a.createElement(p.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Confirm Password",name:"confirmPassword",onChange:N})),r.a.createElement(I.a.Item,null,r.a.createElement(d.a,{type:"primary",htmlType:"submit",className:"register-form-button"},"Register"))),"email"===b&&r.a.createElement(x.a,null,r.a.createElement("h2",{className:"success-text"},"Registration success! Check your email")))},D=(a(414),function(){return r.a.createElement(k,null,r.a.createElement("div",{className:"RegisterPage"},r.a.createElement("div",{className:"main-container"},r.a.createElement(z,null))))}),J=(a(415),a(238)),W=(a(417),function(){var e=Object(_.a)(),t=e.register,a=e.handleSubmit,c=e.setValue,o=e.errors,m=Object(n.useState)(!1),f=Object(i.a)(m,2),h=(f[0],f[1]),E=r.a.useContext(g),b=Object(u.g)(),v=function(e){c(e.target.name,e.target.value)};return Object(n.useEffect)((function(){t({name:"username"}),t({name:"password"})}),[]),r.a.createElement("div",{className:"Login"},r.a.createElement(I.a,{onSubmit:a((function(e){console.log(e),R.a.post(M+q.auth.login,e).then((function(e){console.log(e.data);var t=U(e.data.token);console.log(t),E.setUser(Object(s.a)({token:e.data.token,loggedIn:!0},t)),B("acanotes_alpaca_token",e.data.token,7),l.a.success("Logged in"),b.push("/")})).catch(A).finally((function(){h(!1)}))})),className:"login-form"},r.a.createElement("h2",{className:"login-title"},"Login"),r.a.createElement(I.a.Item,{validateStatus:o.username&&"error"},r.a.createElement(T.a,{prefix:r.a.createElement(p.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username or Email",name:"username",onChange:v})),r.a.createElement(I.a.Item,{validateStatus:o.password&&"error"},r.a.createElement(T.a,{prefix:r.a.createElement(p.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password",onChange:v,name:"password"})),r.a.createElement(I.a.Item,null,r.a.createElement(J.a,null,"Remember me"),r.a.createElement("a",{className:"login-form-forgot",href:""},"Forgot password"),r.a.createElement(d.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log in"),"Or ",r.a.createElement("a",{href:"/register"},"register now!"))))}),V=(a(418),function(){return r.a.createElement(k,null,r.a.createElement("div",{className:"LoginPage"},r.a.createElement("div",{className:"main-container"},r.a.createElement(W,null))))}),H=(a(419),function(){return r.a.createElement(k,null,r.a.createElement("div",{className:"ContributorsPage"},r.a.createElement("div",{className:"main-container"},r.a.createElement("h2",null,"Founding Members"),r.a.createElement("p",null,"Andrew Liu"),r.a.createElement("p",null,"Vincent Cai"),r.a.createElement("p",null,"Stone Tao"),r.a.createElement("p",null,"Tom Jiao"),r.a.createElement("p",null,"Alex Xu"),r.a.createElement("p",null,"Emma Liu"),r.a.createElement("p",null,"David Yei"),r.a.createElement("br",null),r.a.createElement("h2",null,"Current management team"),r.a.createElement("br",null),r.a.createElement("h2",null,"Project contributors"),r.a.createElement("br",null),r.a.createElement("h2",null,"Honorary Members"),r.a.createElement("br",null))))}),Y=(a(420),function(e){return r.a.createElement("div",{className:"Header"},e.title)}),K=(a(161),a(95)),X=(a(162),a(94)),$=(a(423),function(e){return r.a.createElement(m.b,{to:"/notes-wiki/note/"+e.a_id,className:"NoteCard"},r.a.createElement("div",{className:"notes-title"},"Title: ",e.a_title),r.a.createElement("div",{className:"notes-rating"},r.a.createElement(X.a,{disabled:!0,value:e.a_rating})),r.a.createElement("div",{className:"notes-author"},"Author: ",e.a_author),r.a.createElement("div",{className:"notes-date"},"Date: ",e.a_date),r.a.createElement("div",{className:"notes-desc"},"Description: ",e.a_description),r.a.createElement("div",{className:"notes-downloads"},"Downloads: ",e.a_downloads))}),Q=(a(424),function(e){return r.a.createElement("div",{className:"NotesList"},e.notes&&e.notes.length&&e.notes.map((function(e,t){return"empty"==e?r.a.createElement("div",null,"No Notes!"):r.a.createElement($,Object.assign({},e,{key:t}))})),e.loading&&r.a.createElement(K.a,{active:!0}))}),Z=a(8),ee=a.n(Z),te=a(16);function ae(){return(ae=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){R()({method:"POST",url:M+q.create.note,data:{class:t.class,description:t.description,title:t.title},headers:{Authorization:"Bearer ".concat(F())}}).then((function(n){var r=n.data,c=r.signedUrl;r.key;R()({method:"PUT",url:c,data:t.file.file.originFileObj,headers:{"Content-Type":"application/pdf"}}).then((function(t){console.log(t),l.a.success("Succesfully uploaded note!"),e(t)})).catch((function(e){console.error(e),l.a.error("Failed to upload note, try again later"),a(e)}))})).catch((function(e){l.a.error("Failed to upload note, try again later"),console.error(e),a(e)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){return re.apply(this,arguments)}function re(){return(re=Object(te.a)(ee.a.mark((function e(){var t,a=arguments;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:5,e.abrupt("return",new Promise((function(e,a){R()({method:"GET",url:M+q.notes.getTopNotes+"?count="+t,headers:{Authorization:"Bearer ".concat(F())}}).then((function(t){e(t)})).catch((function(e){l.a.error("Failed to retrieve popular notes"),a(e)}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(){return(ce=Object(te.a)(ee.a.mark((function e(){var t,a=arguments;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:5,e.abrupt("return",new Promise((function(e,a){R()({method:"GET",url:M+q.notes.latest+"?count="+t,headers:{Authorization:"Bearer ".concat(F())}}).then((function(t){e(t)})).catch((function(e){l.a.error("Failed to retrieve latest notes"),a(e)}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(){return(oe=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){void 0===t&&a(new Error("No ID given")),R()({method:"GET",url:M+q.notes.note+"?id="+t,headers:{Authorization:"Bearer ".concat(F())}}).then((function(t){e(t)})).catch((function(e){l.a.error("Failed to retrieve note"),a(e)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(){return(le=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){R()({method:"GET",url:M+q.notes.search+"?search_query="+t,headers:{Authorization:"Bearer ".concat(F())}}).then((function(t){e(t)})).catch((function(e){l.a.error("Failed to retrieve notes"),a(e)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a(425);var se=function(){var e=Object(n.useState)(["empty"]),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!0),l=Object(i.a)(o,2),s=l[0],m=l[1],d=Object(u.g)();return Object(n.useEffect)((function(){ne(5).then((function(e){c(JSON.parse(e.data.res)),m(!1)}))}),[]),r.a.createElement(k,null,r.a.createElement("div",{className:"NotesWikiPage"},r.a.createElement(Y,{title:"Notes Wiki"}),r.a.createElement("div",{className:"main-container"},r.a.createElement(T.a.Search,{enterButton:"Search",size:"large",onSearch:function(e){d.push("notes-wiki/search/"+e)}}),r.a.createElement("h2",null,"Trending Notes"),r.a.createElement(Q,{notes:a,loading:s}))))},ie=(a(426),function(e){var t=Object(n.useState)(["empty"]),a=Object(i.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(!0),s=Object(i.a)(l,2),u=s[0],m=s[1];return Object(n.useEffect)((function(){(function(e){return le.apply(this,arguments)})(e.match?e.match.params.query:e.query).then((function(e){o(JSON.parse(e.data.res)),m(!1)}))}),[]),r.a.createElement(k,null,r.a.createElement("div",{className:"SearchResultsPage"},r.a.createElement(Y,{title:"Search Notes"}),r.a.createElement("div",{className:"main-container"},r.a.createElement("h2",null,"Search Result: "),r.a.createElement(Q,{notes:c,loading:u}))))}),ue=a(173),me=a(547),de=(a(467),function(e){var t=Object(n.useState)(e.match.params.id),a=Object(i.a)(t,2),c=(a[0],a[1]),o=Object(n.useState)("a"),l=Object(i.a)(o,2),s=l[0],u=l[1],m=Object(n.useState)({}),d=Object(i.a)(m,2),p=d[0],f=d[1],h=Object(n.useState)(0),E=Object(i.a)(h,2),g=E[0],b=E[1];return Object(n.useEffect)((function(){c(e.match.params.id),function(e){return oe.apply(this,arguments)}(e.match.params.id).then((function(e){u(e.data.signedUrl),f(JSON.parse(e.data.note))})).catch((function(e){A(e)}))}),[]),r.a.createElement(k,null,r.a.createElement("div",{className:"NotePage"},r.a.createElement(Y,{title:"Note"}),r.a.createElement("div",{className:"main-container"},r.a.createElement("h2",{class:"title"},p.a_title),r.a.createElement("div",{className:"note-meta"},r.a.createElement("p",{class:"author"},"Author: ",r.a.createElement("a",{href:"/users/"+p.a_author},p.a_author)),r.a.createElement("p",{class:"subject"},"Subject: ",r.a.createElement("a",{href:"#"},p.a_subject)),r.a.createElement("p",{class:"desc"},p.a_description),r.a.createElement("p",{class:"downloads"},p.a_downloads),r.a.createElement("p",{class:"rating"},"Average Rating: ",p.a_rating,"/5"),r.a.createElement("p",null,"Rate this note"),r.a.createElement(X.a,{value:g,onChange:function(e){return b(e)}})),r.a.createElement("h3",null,"Preview"),r.a.createElement(ue.Document,{file:s},r.a.createElement(ue.Page,{pageNumber:1})),r.a.createElement("div",{className:"download-row"},r.a.createElement(me.a,null),r.a.createElement("a",{href:s,target:"_blank"},"Download")))))}),pe=(a(224),a(137)),fe=a(30),he=(a(540),a(138)),Ee=a(548),ge=(a(472),he.a.Option),be=he.a.OptGroup,ve=function(){var e=Object(_.a)(),t=e.register,a=e.handleSubmit,c=e.setValue,o=e.errors,m=Object(n.useState)(!1),p=Object(i.a)(m,2),f=p[0],h=p[1],E=r.a.useContext(g),b=(Object(u.g)(),Object(n.useState)([])),v=Object(i.a)(b,2),N=v[0],y=v[1],O=function(e){c(e.target.name,e.target.value)};return Object(n.useEffect)((function(){t({name:"title"},{required:!0}),t({name:"class"},{required:!0}),t({name:"description"},{required:!0}),t({name:"file"})}),[]),Object(n.useEffect)((function(){(o.title||o.class||o.description)&&l.a.error("Missing required fields")}),[o]),r.a.createElement("div",{className:"CreateNote"},r.a.createElement(I.a,{onSubmit:a((function(e){h(!0),function(e){return ae.apply(this,arguments)}(Object(s.a)({},e,{token:E.token})).then((function(){h(!1)})).catch((function(e){h(!1)}))})),className:"createnote-form"},r.a.createElement("h2",{className:"createnote-title"},"Create Notes"),r.a.createElement(I.a.Item,{label:"Title",validateStatus:o.title&&"error"},r.a.createElement(T.a,{placeholder:"Title",name:"title",onChange:O})),r.a.createElement(I.a.Item,{label:"Class",validateStatus:o.class&&"error"},r.a.createElement(he.a,{placeholder:"Select A Class",name:"class",onChange:function(e){c("class",e)}},r.a.createElement(be,{label:"Group 1: Language and Literature"},r.a.createElement(ge,{value:"English Lang Lit"},"English A Lang & Lit"),r.a.createElement(ge,{value:"English Lit"},"English A Literature"),r.a.createElement(ge,{value:"Chinese Lang Lit"},"Chinese A Lang & Lit")),r.a.createElement(be,{label:"Group 2: Language Acquisition"},r.a.createElement(ge,{value:"Chinese B"},"Chinese B"),r.a.createElement(ge,{value:"French B"},"French B"),r.a.createElement(ge,{value:"Spanish B"},"Spanish B"),r.a.createElement(ge,{value:"English B"},"English B"),r.a.createElement(ge,{value:"Chinese AB"},"Chinese AB initio"),r.a.createElement(ge,{value:"French AB"},"French AB initio"),r.a.createElement(ge,{value:"Spanish AB"},"Spanish AB initio")),r.a.createElement(be,{label:"Group 3: Individuals and Societies"},r.a.createElement(ge,{value:"Economics"},"Economics"),r.a.createElement(ge,{value:"Geography"},"Geography"),r.a.createElement(ge,{value:"Global Politics"},"Global Politics"),r.a.createElement(ge,{value:"History"},"History"),r.a.createElement(ge,{value:"Psychology"},"Psychology"),r.a.createElement(ge,{value:"ITGS"},"ITGS"),r.a.createElement(ge,{value:"Business and Mgmt"},"Business and Management"),r.a.createElement(ge,{value:"Philosophy"},"Philosophy")),r.a.createElement(be,{label:"Group 4: Sciences"},r.a.createElement(ge,{value:"Physics"},"Physics"),r.a.createElement(ge,{value:"Chemistry"},"Chemistry"),r.a.createElement(ge,{value:"Biology"},"Biology"),r.a.createElement(ge,{value:"ESS"},"Environmental Science"),r.a.createElement(ge,{value:"Sports Science"},"Sports Science")),r.a.createElement(be,{label:"Group 5: Mathematics"},r.a.createElement(ge,{value:"Math"},"Math"),r.a.createElement(ge,{value:"Computer Science"},"Computer Science"),r.a.createElement(ge,{value:"Math Studies"},"Math Studies")),r.a.createElement(be,{label:"Group 6: Arts"},r.a.createElement(ge,{value:"Film"},"Film"),r.a.createElement(ge,{value:"Music"},"Music"),r.a.createElement(ge,{value:"Theatre"},"Theatre"),r.a.createElement(ge,{value:"Visual Arts"},"Visual Arts")),r.a.createElement(be,{label:"Other"},r.a.createElement(ge,{value:"Other"},"Other")))),r.a.createElement(I.a.Item,{label:"Description",validateStatus:o.description&&"error"},r.a.createElement(T.a.TextArea,{name:"description",placeholder:"Description",onChange:O})),r.a.createElement(I.a.Item,{validateStatus:o.file&&"error"},r.a.createElement(pe.a,{name:"file",type:"file",customRequest:function(e){e.file;var t=e.onSuccess;setTimeout((function(){t("ok")}),0)},fileList:N,onChange:function(e){var t=Object(fe.a)(e.fileList),a=t[t.length-1];a&&y([a]),c("file",{file:a})},onRemove:function(){y([])}},r.a.createElement(d.a,null,r.a.createElement(Ee.a,null)," Click to Upload"))),r.a.createElement(I.a.Item,null,r.a.createElement(d.a,{type:"primary",htmlType:"submit",className:"createnote-button",loading:f},"Create"))))},Ne=(a(527),function(){return r.a.createElement(k,null,r.a.createElement("div",{className:"CreatePage"},r.a.createElement("div",{className:"main-container"},r.a.createElement(ve,null))))}),ye=(a(528),function(e){return r.a.createElement("div",{className:"AcaCard"},e.children)}),Oe=(a(529),function(e){var t=["#e66465","#9198e5","#3f87a6","#ebf8e1","#ff9f1c","#2ec4b6","#cad695","#6d5f64"];return e&&t.splice(t.indexOf(e),1),t[Math.floor(Math.random()*t.length)]}),we=function(e){var t=Oe(),a=Oe(t),c="linear-gradient("+Math.random()+"turn, "+t+", "+a+")";Object(n.useEffect)((function(){""!=e.background?u('url("'.concat(e.background,'")')):u(c)}),[e.background]);var o=Object(n.useState)(c),l=Object(i.a)(o,2),s=l[0],u=l[1],m=Object(n.useState)("Avatar"),d=Object(i.a)(m,2),p=d[0],f=d[1];return Object(n.useEffect)((function(){var t="";switch(e.size){case"large":case"small":t=e.size}f("Avatar "+t+" "+e.className)}),[]),r.a.createElement("div",{className:p,style:{backgroundImage:s}})};a(530);function je(){return(je=Object(te.a)(ee.a.mark((function e(){var t,a=arguments;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:5,e.abrupt("return",new Promise((function(e,a){R()({method:"GET",url:M+q.users.getTop+"?count="+t,headers:{Authorization:"Bearer ".concat(F())}}).then((function(t){e(t)})).catch((function(e){l.a.error("Failed to retrieve top users"),a(e)}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(){return(ke=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){R()({method:"GET",url:M+q.users.user+"?id="+t,headers:{Authorization:"Bearer ".concat(F())}}).then((function(t){e(JSON.parse(t.data.res))})).catch((function(e){l.a.error("Failed to retrieve user data"),a(e)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Se(e){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){R()({method:"GET",url:M+q.users.userImage+"?id="+t,headers:{Authorization:"Bearer ".concat(F())}}).then((function(t){e(t.data.signedUrl)})).catch((function(e){l.a.error("Failed to retrieve user profile picture"),a(e)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pe(){return(Pe=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){R()({method:"GET",url:M+q.users.getPopularUploads+"?id="+t,headers:{Authorization:"Bearer ".concat(F())}}).then((function(t){e(JSON.parse(t.data.res))})).catch((function(e){l.a.error("Failed to retrieve popular uploads"),a(e)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(){return(xe=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){R()({method:"PATCH",url:M+q.users.user+"?id="+t.username,headers:{Authorization:"Bearer ".concat(F())},data:t}).then((function(t){console.log(t),e(t.data.token)})).catch((function(e){l.a.error("Failed to update user"),a(e)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ie(){return(Ie=Object(te.a)(ee.a.mark((function e(t,a){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){R()({method:"PUT",url:M+q.users.userImage+"?id="+t.username,headers:{Authorization:"Bearer ".concat(F())}}).then((function(t){var r=t.data,c=r.signedUrl;r.key;R()({method:"PUT",url:c,data:a,headers:{"Content-Type":"application/image"}}).then((function(t){console.log(t),l.a.success("Succesfully uploaded profile picture!"),e(t)})).catch((function(e){console.error(e),l.a.error("Failed to upload picture, try again later"),n(e)}))})).catch((function(e){l.a.error("Failed to upload picture, try again later"),console.error(e),n(e)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Te=function(e){var t=["#e66465","#9198e5","#3f87a6","#ebf8e1","#ff9f1c","#2ec4b6","#cad695","#6d5f64"];return e&&t.splice(t.indexOf(e),1),t[Math.floor(Math.random()*t.length)]},_e=function(e){var t=Te(),a=Te(t),c=(Math.random(),Object(n.useState)(e.user_image)),o=Object(i.a)(c,2),l=o[0],s=o[1];return Object(n.useEffect)((function(){e.user_image||Se(e.user_uid).then((function(e){s(e)})).catch(A)}),[]),r.a.createElement(m.b,{className:"UserCard",to:"/users/"+e.user_uid},r.a.createElement(we,{background:l}),r.a.createElement("div",{className:"user-name"},"Name: ",e.user_first),r.a.createElement("div",{className:"user-title"},"Title: ",e.user_title),r.a.createElement("div",{className:"user-rating"},r.a.createElement(X.a,{disabled:!0,value:parseInt(e.user_rating)})),r.a.createElement("div",{className:"user-downloads"},"Downloads: ",e.user_downloads))},Ae=(a(531),function(e){return r.a.createElement("div",{className:"UserList"},e.users&&e.users.length&&e.users.map((function(e,t){return r.a.createElement(_e,Object.assign({key:t},e))})),e.loading&&r.a.createElement(K.a,{active:!0}))});function Le(){return(Le=Object(te.a)(ee.a.mark((function e(){var t,a=arguments;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:1,e.abrupt("return",new Promise((function(e,a){R()({method:"GET",url:M+q.announcements.latest+"?count="+t,headers:{Authorization:"Bearer ".concat(F())}}).then((function(t){e(t)})).catch((function(e){l.a.error("Failed to retrieve announcements"),a(e)}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a(532);var Be=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)([]),l=Object(i.a)(o,2),s=l[0],u=l[1],m=Object(n.useState)([]),d=Object(i.a)(m,2),p=d[0],f=d[1],h=Object(n.useState)([]),E=Object(i.a)(h,2),b=E[0],v=E[1],N=Object(n.useState)(!0),y=Object(i.a)(N,2),O=y[0],w=y[1],j=Object(n.useState)(!0),S=Object(i.a)(j,2),C=S[0],P=S[1],x=Object(n.useState)(!0),I=Object(i.a)(x,2),T=I[0],_=I[1],A=r.a.useContext(g);return Object(n.useEffect)((function(){(function(){return Le.apply(this,arguments)})(3).then((function(e){c(JSON.parse(e.data.res))}))}),[]),Object(n.useEffect)((function(){(function(){return je.apply(this,arguments)})(5).then((function(e){u(JSON.parse(e.data.res)),w(!1)}))}),[]),Object(n.useEffect)((function(){ne(5).then((function(e){f(JSON.parse(e.data.res)),P(!1)}))}),[]),Object(n.useEffect)((function(){(function(){return ce.apply(this,arguments)})(5).then((function(e){v(JSON.parse(e.data.res)),_(!1)}))}),[]),r.a.createElement(k,null,r.a.createElement("div",{className:"TodayPage"},r.a.createElement(Y,{title:"Today"}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"card"},r.a.createElement("h2",null,"Welcome ",A.user.firstName,"!"),r.a.createElement("p",null,"Welcome to your daily dashboard. Here, you can view the latest updates from the AcaNotes community! We wish you a pleasant stay.")),r.a.createElement("div",{className:"card"},r.a.createElement("h2",null,"Official Announcements"),a.length?r.a.createElement("div",null,a.map((function(e,t){return r.a.createElement("p",{key:t},e.announcement)}))):r.a.createElement(K.a,{active:!0})),r.a.createElement(ye,null,r.a.createElement("h2",{className:"title"},"Prominent Users"),r.a.createElement(Ae,{users:s,loading:O})),r.a.createElement(ye,null,r.a.createElement("h2",{className:"title"},"Popular Notes"),r.a.createElement(Q,{notes:p,loading:C})),r.a.createElement(ye,null,r.a.createElement("h2",{className:"title"},"Latest Notes"),r.a.createElement(Q,{notes:b,loading:T})))))},Ue=(a(533),function(){var e=Object(u.h)(),t=r.a.useContext(g),a=Object(n.useState)({}),c=Object(i.a)(a,2),o=c[0],l=c[1],s=Object(n.useState)([]),p=Object(i.a)(s,2),f=p[0],h=p[1],E=Object(n.useState)(""),b=Object(i.a)(E,2),v=b[0],N=b[1],y=e.id===t.user.username;return Object(n.useEffect)((function(){(function(e){return ke.apply(this,arguments)})(e.id).then((function(e){console.log(e),l(e)})).catch((function(e){A(e)})),Se(e.id).then((function(e){N(e)})).catch(A),function(e){return Pe.apply(this,arguments)}(e.id).then((function(e){h(e)})).catch(A)}),[]),r.a.createElement(k,null,r.a.createElement("div",{className:"ProfilePage"},r.a.createElement("div",{className:"main-container"},r.a.createElement("div",{className:"profile-pic-wrapper"},r.a.createElement(we,{size:"large",background:v,className:"avatar"})),r.a.createElement("h2",null,o.user_first," ",o.user_last),r.a.createElement("div",{className:"title"},"Honorary Title: ",r.a.createElement("span",null,o.user_title)),r.a.createElement("div",{className:"rating"},"Rating: ",o.user_rating||0,"/5"),r.a.createElement("div",{className:"downloads"},"User Downloads: ",o.user_downloads),r.a.createElement("div",{className:"desc"},"Description: ",r.a.createElement("p",null,o.user_description||"User has no description")),r.a.createElement("div",{className:"popular-uploads"},r.a.createElement("div",{className:"title"},"Popular Uploads"),f?r.a.createElement(Q,{notes:f}):r.a.createElement("p",null,"This user has no uploads available")),y&&r.a.createElement(m.b,{to:"/editProfile"},r.a.createElement(d.a,{size:"large"},"Edit Profile")))))}),Fe=(a(534),a(237)),Me=(a(536),function(e){var t=Object(_.a)(),a=t.register,c=t.handleSubmit,o=t.setValue,m=t.errors,f=Object(n.useState)(!1),h=Object(i.a)(f,2),E=(h[0],h[1],r.a.useContext(g)),b=(Object(u.g)(),Object(n.useState)(!1)),v=Object(i.a)(b,2),N=(v[0],v[1]),y=function(e){o(e.target.name,e.target.value),N(!0)};return Object(n.useEffect)((function(){for(var e in a({name:"firstName"},{required:!0}),a({name:"lastName"}),a({name:"description"}),a({name:"email"},{required:!0}),E.user)o(e,E.user[e])}),[]),Object(n.useEffect)((function(){console.log(m),(m.firstName||m.lastName||m.email)&&l.a.error("Fields can't be empty")}),[m]),r.a.createElement(I.a,{onSubmit:c((function(e){(function(e){return xe.apply(this,arguments)})(Object(s.a)({},e,{username:E.user.username})).then((function(e){l.a.success("Updated Profile");var t=U(e);E.setUser(Object(s.a)({token:e,loggedIn:!0},t)),B("acanotes_alpaca_token",e,7)})).catch(A)})),className:"EditUserForm "+e.className,name:"EditUser"},r.a.createElement(I.a.Item,{validateStatus:m.first&&"error"},r.a.createElement(T.a,{placeholder:"First name",name:"firstName",defaultValue:E.user.firstName,onChange:y})),r.a.createElement(I.a.Item,{validateStatus:m.last&&"error"},r.a.createElement(T.a,{placeholder:"Last name",name:"lastName",defaultValue:E.user.lastName,onChange:y})),r.a.createElement(I.a.Item,{validateStatus:m.email&&"error"},r.a.createElement(T.a,{prefix:r.a.createElement(p.a,{type:"mail",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email",name:"email",defaultValue:E.user.email,onChange:y})),r.a.createElement(I.a.Item,{validateStatus:m.description&&"error"},r.a.createElement(T.a.TextArea,{placeholder:"Description",name:"description",defaultValue:E.user.description,onChange:y})),r.a.createElement(I.a.Item,null,r.a.createElement(d.a,{type:"primary",htmlType:"submit",className:"update-form-button"},"Update Profile")))}),qe=(a(537),function(e){Object(u.h)();var t=r.a.useContext(g),a=Object(n.useState)(""),c=Object(i.a)(a,2),o=c[0],l=c[1],s=Object(n.useState)([]),m=Object(i.a)(s,2),p=m[0],f=m[1],h=Object(n.useState)(!1),E=Object(i.a)(h,2),b=E[0],v=E[1],N=Object(n.useState)("none"),y=Object(i.a)(N,2),O=y[0],w=y[1],j=function(){v(!1),w("none")},S=function(){console.log("Uploading..."),w("uploading"),function(e,t){return Ie.apply(this,arguments)}(t.user,p[0].originFileObj).then((function(e){w("none"),v(!1)})).catch((function(e){w("none")}))},C=Object(n.useRef)(null);return r.a.createElement(k,null,r.a.createElement("div",{className:"EditProfilePage"},r.a.createElement("div",{className:"main-container"},r.a.createElement("div",{className:"form-wrapper"},r.a.createElement("h2",{className:"edit-title"},"Edit Profile"),r.a.createElement(we,{size:"large",background:o,className:"avatar"}),r.a.createElement(d.a,{type:"primary",className:"upload-modal-button",onClick:function(){v(!0),console.log(C)}},"Change Profile Picture"),r.a.createElement(Fe.a,{visible:b,title:"Change Profile Picture",onOk:S,onCancel:j,className:"EditProfilePage-Modal",footer:[r.a.createElement(d.a,{key:"back",onClick:j},"Return"),r.a.createElement(d.a,{key:"submit",type:"primary",loading:"uploading"===O,onClick:S,disabled:0==p.length},"uploading"!==O&&r.a.createElement(Ee.a,null)," Upload")]},r.a.createElement("div",{className:"upload-wrapper"},r.a.createElement(pe.a,{className:"upload-profile-pic",name:"file",type:"file",customRequest:function(e){e.file;var t=e.onSuccess;setTimeout((function(){t("ok")}),0)},fileList:p,onChange:function(e){var t=Object(fe.a)(e.fileList);if(URL.revokeObjectURL(o),t.length){var a=t[t.length-1];a&&f([a]);var n=URL.createObjectURL(a.originFileObj);console.log(n),l(n),console.log(a)}else l("")},onRemove:function(){f([])}},r.a.createElement("div",{className:"new-profile-pic-wrapper"},r.a.createElement(we,{size:"large",background:o,className:"avatar"})),r.a.createElement(d.a,{className:"upload-button",innerRef:C},"Change Picture")))),r.a.createElement(Me,{default:t.user,className:"edit-form"})))))});function Ge(){return(Ge=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){R.a.post(M+q.auth.verify,{token:t}).then(function(){var t=Object(te.a)(ee.a.mark((function t(a){var n;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=a.data,console.log(),e(n);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){a(e)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Re=function(){var e=Object(n.useState)({token:"",loggedIn:!1}),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),d=Object(i.a)(o,2),p=d[0],f=d[1],h=L("acanotes_alpaca_token");Object(n.useEffect)((function(){""!=h?function(e){return Ge.apply(this,arguments)}(h).then((function(){var e=U(h);c(Object(s.a)({token:h,loggedIn:!0},e)),f(!0),l.a.success("Welcome back "+e.firstName)})).catch((function(e){f(!0)})):f(!0)}),[]);var g=function(e,t){return a.loggedIn?r.a.createElement(e,t):(l.a.info("You need to login to access that page"),r.a.createElement(u.a,{href:"/"}))};return r.a.createElement(m.a,null,r.a.createElement("div",null,p&&r.a.createElement(u.d,null,r.a.createElement(E,{value:{user:a,setUser:c,logout:function(){c({token:"",loggedIn:!1}),B("acanotes_alpaca_token",""),l.a.info("Logged out")}}},r.a.createElement(u.b,{path:"/",exact:!0,component:function(){return r.a.createElement(P,null)}}),r.a.createElement(u.b,{path:"/login",exact:!0,component:V}),r.a.createElement(u.b,{path:"/register",exact:!0,component:D}),r.a.createElement(u.b,{path:"/contributors",exact:!0,component:H}),r.a.createElement(u.b,{path:"/users/:id",exact:!0,component:function(e){return g(Ue,e)}}),r.a.createElement(u.b,{path:"/editProfile",exact:!0,component:function(){return g(qe)}}),r.a.createElement(u.b,{path:"/create",exact:!0,component:function(){return g(Ne)}}),r.a.createElement(u.b,{path:"/today",exact:!0,component:function(){return g(Be)}}),r.a.createElement(u.b,{path:"/notes-wiki",exact:!0,component:function(){return g(se)}}),r.a.createElement(u.b,{path:"/notes-wiki/search/",exact:!0,component:function(){return g(ie,{query:""})}}),r.a.createElement(u.b,{path:"/notes-wiki/search/:query",exact:!0,component:function(e){return g(ie,e)}}),r.a.createElement(u.b,{path:"/notes-wiki/note/:id",exact:!0,component:function(e){return g(de,e)}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Re,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[242,1,2]]]);
//# sourceMappingURL=main.49c92288.chunk.js.map