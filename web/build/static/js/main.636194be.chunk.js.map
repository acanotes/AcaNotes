{"version":3,"sources":["../node_modules/pdfjs-dist/build sync","assets/mascot.png","logo.svg","UserContext.js","components/Navbar/index.jsx","components/Footer/index.jsx","layouts/MainLayout/index.jsx","pages/MainPage/index.jsx","utils/index.js","configuration/index.js","components/Auth/Register/index.jsx","pages/Auth/RegisterPage/index.jsx","components/Auth/Login/index.jsx","pages/Auth/LoginPage/index.jsx","pages/Contributors/index.jsx","components/Header/index.jsx","components/Notes/NoteCard/index.jsx","components/Notes/NotesList/index.jsx","actions/notes.js","pages/NotesWiki/index.jsx","pages/NotesWiki/SearchResultsPage/index.jsx","components/Notes/RateNote/index.jsx","pages/NotePage/index.jsx","components/CreateNote/index.jsx","pages/Create/index.jsx","components/Card/index.jsx","components/User/Avatar/index.jsx","actions/users.js","components/User/UserCard/index.jsx","components/User/UserList/index.jsx","actions/announcements.js","pages/Today/index.jsx","pages/ProfilePage/index.jsx","components/User/EditUserForm/index.jsx","pages/EditProfilePage/index.jsx","actions/auth.js","App.js","serviceWorker.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","UserContext","React","createContext","UserProvider","Provider","Consumer","Navbar","SubMenu","useState","menu","setMenu","history","useHistory","userHooks","useContext","useEffect","location","pathname","slice","onClick","selectedKeys","mode","className","Item","key","push","type","BookOutlined","user","loggedIn","logout","username","UserOutlined","firstName","Footer","href","TeamOutlined","target","FacebookOutlined","InstagramOutlined","Date","getFullYear","MainLayout","props","children","MainPage","src","mascot","errorLogger","error","console","response","data","message","getCookie","cname","name","ca","decodeURIComponent","document","cookie","split","i","length","c","charAt","substring","indexOf","setCookie","cvalue","exdays","d","setTime","getTime","expires","toUTCString","tokenGetClaims","token","tokenArray","JSON","parse","window","atob","replace","getToken","auth","login","register","verify","create","note","announcements","latest","users","getTop","getPopularUploads","userImage","notes","getTopNotes","getNote","ratings","search","Register","useForm","handleSubmit","errors","setValue","watch","setLoading","registerStep","setRegisterStep","handleChange","value","required","minLength","validate","log","first","last","email","password","confirmPassword","onSubmit","axios","post","config","then","catch","finally","validateStatus","placeholder","onChange","prefix","style","color","htmlType","RegisterPage","Login","claims","setUser","success","LoginPage","ContributorsPage","Header","title","NoteCard","to","a_id","a_title","disabled","a_rating","a_author","a_date","a_description","a_downloads","NotesList","map","row","loading","active","a","Promise","reject","method","url","class","description","headers","Authorization","rdata","signedUrl","file","originFileObj","count","undefined","res","query","rating","noteID","NotesWikiPage","topNotes","setTopNotes","topNotesLoading","Search","enterButton","size","onSearch","val","SearchResultsPage","searchedNotes","setSearchedNotes","notesLoading","searchNotes","match","params","RateNote","myRating","setMyRating","note_id","getMyRating","rating_value","rateNote","NotePage","setID","fileURI","setFileURI","setNote","a_subject","DownloadOutlined","Option","OptGroup","CreateNote","progress","setProgress","fileList","setFileList","uploadNote","label","TextArea","customRequest","onSuccess","setTimeout","info","lastFile","onRemove","UploadOutlined","CreatePage","Card","randomColors","colors","splice","Math","floor","random","Avatar","i1","i2","background","setBg","bg","setClass","append","backgroundImage","getUserImage","imageFile","UserCard","user_image","setImage","user_uid","user_first","user_title","parseInt","user_rating","user_downloads","UserList","TodayPage","setAnnouncements","topUsers","setTopUsers","latestNotes","setLatestNotes","n1","setLoading1","n2","setLoading2","n3","setLoading3","getAnnouncements","getLatestNotes","announcement","ProfilePage","useParams","profile","setProfile","popularUploads","setPopularUploads","profilePic","setProfilePic","mine","getUser","user_last","user_description","EditUserForm","setMadeEdit","lastName","updateUser","defaultValue","EditProfilePage","setBG","visible","setVisible","uploadState","setUploadState","handleCancel","uploadPhoto","uploadUserImage","uploadImageButton","useRef","onOk","onCancel","footer","URL","revokeObjectURL","newBg","createObjectURL","innerRef","default","resData","App","sessionReady","setSessionReady","verifyToken","err","requireAuth","Component","path","exact","component","Boolean","hostname","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"6EAAA,SAASA,EAAoBC,GAC5B,IAAIC,EAAI,IAAIC,MAAM,uBAAyBF,EAAM,KAEjD,MADAC,EAAEE,KAAO,mBACHF,EAEPF,EAAoBK,KAAO,WAAa,MAAO,IAC/CL,EAAoBM,QAAUN,EAC9BO,EAAOC,QAAUR,EACjBA,EAAoBS,GAAK,K,oBCRzBF,EAAOC,QAAU,IAA0B,oC,0DCA3CD,EAAOC,QAAU,IAA0B,kC,m3BCGrCE,EAAcC,IAAMC,cAAc,IAE3BC,EAAeH,EAAYI,SAEzBJ,GADaA,EAAYK,SACzBL,G,kBC+FAM,G,WA9FPC,QAKO,WAAO,IAAD,EACKC,mBAAS,IADd,mBACZC,EADY,KACNC,EADM,KAEbC,EAAUC,cACVC,EAAYZ,IAAMa,WAAWd,GAmCnC,OAlCAe,qBAAU,WAER,OAAQJ,EAAQK,SAASC,UACvB,IAAK,IACHP,EAAQ,QACR,MACF,IAAK,UACDA,EAAQ,UACV,MACF,IAAK,eACDA,EAAQ,SACV,MACF,IAAK,YACDA,EAAQ,YACV,MACF,IAAK,SACHA,EAAQ,SACR,MACF,IAAK,SACHA,EAAQ,SACR,MACF,IAAK,cACDA,EAAQ,cACR,MACJ,QAC+C,WAAzCC,EAAQK,SAASC,SAASC,MAAM,EAAE,GACpCR,EAAQ,SAGRA,EAAQ,WAIb,IAED,uBAAMS,QAAST,EAASU,aAAc,CAACX,GAAOY,KAAK,aAAaC,UAAU,UACxE,sBAAMC,KAAN,CAAWC,IAAI,OAAOL,QAAS,kBAAMR,EAAQc,KAAK,OAChD,uBAAMC,KAAK,SADb,QAIA,sBAAMH,KAAN,CAAWC,IAAI,QAAQL,QAAS,kBAAMR,EAAQc,KAAK,YACjD,uBAAMC,KAAK,iBADb,cAIA,sBAAMH,KAAN,CAAWC,IAAI,SAASL,QAAS,kBAAMR,EAAQc,KAAK,aAClD,uBAAMC,KAAK,aADb,eAIA,sBAAMH,KAAN,CAAWC,IAAI,aAAaL,QAAS,kBAAMR,EAAQc,KAAK,iBACtD,kBAACE,EAAA,EAAD,MADF,cAICd,EAAUe,KAAKC,SACd,CACE,sBAAMN,KAAN,CAAWC,IAAI,SAASF,UAAU,cAAcH,QAAS,WACvDN,EAAUiB,SACVnB,EAAQc,KAAK,OAEb,uBAAMC,KAAK,cAAcJ,UAAU,gBAJrC,UAOA,sBAAMC,KAAN,CAAWC,IAAI,QAAQF,UAAU,eAAeH,QAAS,WACvDR,EAAQc,KAAK,UAAYZ,EAAUe,KAAKG,YAExC,kBAACC,EAAA,EAAD,CAAcV,UAAU,iBACvB,IAAKT,EAAUe,KAAKK,YAIzB,CACE,sBAAMV,KAAN,CAAWC,IAAI,QAAQF,UAAU,aAAaH,QAAS,kBAAMR,EAAQc,KAAK,YACxE,uBAAMC,KAAK,cAAcJ,UAAU,eADrC,SAIA,sBAAMC,KAAN,CAAWC,IAAI,WAAWF,UAAU,gBAAgBH,QAAS,kBAAMR,EAAQc,KAAK,eAC9E,uBAAMC,KAAK,cAAcJ,UAAU,kBADrC,gB,oCChEKY,EAtBA,WAEb,OACE,yBAAKZ,UAAU,UACb,yBAAKA,UAAU,iBACb,uBAAGa,KAAK,iBACN,kBAACC,EAAA,EAAD,CAAcd,UAAU,UAE1B,uBAAGa,KAAK,qCAAqCE,OAAO,UAClD,kBAACC,EAAA,EAAD,CAAkBhB,UAAU,UAE9B,uBAAGa,KAAK,sCAAsCE,OAAO,UACnD,kBAACE,EAAA,EAAD,CAAmBjB,UAAU,WAGjC,yBAAKA,UAAU,aAAf,mBACgB,IAAIkB,MAAMC,cAD1B,mBCJSC,G,OAVI,SAACC,GAClB,OACE,yBAAKrB,UAAU,cACb,kBAAC,EAAD,MACCqB,EAAMC,SACP,kBAAC,EAAD,S,kBC6BSC,G,OAjCE,WACf,OACE,kBAAC,EAAD,KACE,yBAAKvB,UAAU,YACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,aACb,wBAAIA,UAAU,SAAd,YACA,uBAAGA,UAAU,aAAb,uFAGJ,yBAAKA,UAAU,aACb,sDACA,kQACA,yBAAKA,UAAU,kBACb,yBAAKwB,IAAKC,IAAQzB,UAAU,aAGhC,yBAAKA,UAAU,aACb,qDACA,oMAEF,yBAAKA,UAAU,aACb,yBAAKA,UAAU,sBACb,uBAAGa,KAAK,aACN,uBAAQT,KAAK,UAAUJ,UAAU,cAAjC,sB,qEC9BD0B,EAAc,SAACC,GAC1BC,QAAQD,MAAMA,GACVA,EAAME,UAAYF,EAAME,SAASC,MAAQH,EAAME,SAASC,KAAKH,MAC/DI,EAAA,EAAQJ,MAAMA,EAAME,SAASC,KAAKH,OAE3BA,EAAMI,SACbA,EAAA,EAAQJ,MAAMA,EAAMI,UAIjB,SAASC,EAAUC,GAIxB,IAHA,IAAIC,EAAOD,EAAQ,IAEfE,EADgBC,mBAAmBC,SAASC,QACzBC,MAAM,KACrBC,EAAI,EAAGA,EAAGL,EAAGM,OAAQD,IAAK,CAEhC,IADA,IAAIE,EAAIP,EAAGK,GACW,KAAfE,EAAEC,OAAO,IACdD,EAAIA,EAAEE,UAAU,GAElB,GAAuB,GAAnBF,EAAEG,QAAQX,GACZ,OAAOQ,EAAEE,UAAUV,EAAKO,OAAQC,EAAED,QAGtC,MAAO,GAGF,SAASK,EAAUb,EAAOc,EAAQC,GACvC,IAAIC,EAAI,IAAI/B,KACZ+B,EAAEC,QAAQD,EAAEE,UAAoB,GAAPH,EAAU,GAAG,GAAG,KACzC,IAAII,EAAU,WAAYH,EAAEI,cAC5BhB,SAASC,OAASL,EAAQ,IAAMc,EAAS,IAAMK,EAAU,UAGpD,IAAME,EAAiB,SAAAC,GAC5B,IAAKA,EACH,MAAO,GAET,IAAMC,EAAaD,EAAMhB,MAAM,KAC/B,OAA0B,IAAtBiB,EAAWf,OACN,GAEFgB,KAAKC,MAAMC,OAAOC,KAAKJ,EAAW,GAAGK,QAAQ,IAAK,KAAKA,QAAQ,IAAK,QAGtE,SAASC,IACd,OAAO9B,EAAU,yBCzCJ,MALJ,GAKI,EAEL,CACN+B,KAAM,CACJC,MAAO,yBACPC,SAAU,4BACVC,OAAO,2BAETC,OAAQ,CACNC,KAAM,kCAERC,cAAe,CACbC,OAAQ,oCAEVC,MAAO,CACLC,OAAQ,2BACRlE,KAAM,yBACNmE,kBAAmB,sCACnBC,UAAW,+BAEbC,MAAO,CACLC,YAAa,gCACbN,OAAO,2BACPO,QAAS,4BACTC,QAAS,4BACTC,OAAQ,kC,iBCiHCC,EAnIE,WAAO,IAAD,EAEuCC,cAApDhB,EAFa,EAEbA,SAAUiB,EAFG,EAEHA,aAAcC,EAFX,EAEWA,OAAQC,EAFnB,EAEmBA,SAAUC,EAF7B,EAE6BA,MAF7B,EAGSnG,oBAAS,GAHlB,mBAGLoG,GAHK,cAIH3G,IAAMa,WAAWd,GACKQ,mBAAS,UAL5B,mBAKdqG,EALc,KAKAC,EALA,KA8BfC,EAAe,SAACvH,GACpBkH,EAASlH,EAAE6C,OAAOmB,KAAMhE,EAAE6C,OAAO2E,QA2BnC,OAxBAjG,qBAAU,WACRwE,EAAS,CAAE/B,KAAM,YAAc,CAAEyD,UAAU,IAC3C1B,EAAS,CAAE/B,KAAM,SAAU,CAAEyD,UAAU,IACvC1B,EAAS,CAAE/B,KAAM,SACjB+B,EAAS,CAAE/B,KAAM,SAAW,CAAEyD,UAAU,IACxC1B,EAAS,CAAE/B,KAAM,YAAc,CAAEyD,UAAU,EAAMC,UAAW,IAC5D3B,EAAS,CAAE/B,KAAM,mBAAsB,CAAEyD,UAAU,EAAME,SAAU,SAACH,GAAD,OAAWL,EAAM,cAAgBK,OACnG,IAEHjG,qBAAU,WACRmC,QAAQkE,IAAIX,IACRA,EAAOY,OAASZ,EAAOa,MAAQb,EAAOc,OAAUd,EAAOe,UAAqC,aAAzBf,EAAOe,SAAS9F,MACtF+E,EAAOgB,iBAAmD,aAAhChB,EAAOgB,gBAAgB/F,MAAwB+E,EAAO1E,WAE/EsB,EAAA,EAAQJ,MAAM,2BAEZwD,EAAOe,UAAqC,cAAzBf,EAAOe,SAAS9F,MACrC2B,EAAA,EAAQJ,MAAM,+CAEZwD,EAAOgB,iBAAmD,aAAhChB,EAAOgB,gBAAgB/F,MACnD2B,EAAA,EAAQJ,MAAM,4BAEf,CAACwD,IAGF,yBAAKnF,UAAU,YACK,UAAjBuF,GACC,uBACEa,SAAUlB,GAvDD,SAACpD,GAChBF,QAAQkE,IAAIhE,GACPA,EAAKrB,UAILqB,EAAKoE,UACRnE,EAAA,EAAQJ,MAAM,oBAKhBC,QAAQkE,IAAIhE,GACZuE,IAAMC,KAAKC,EAAiBA,EAAcxC,KAAKE,SAAUnC,GAAM0E,MAAK,SAAC3E,GACnED,QAAQkE,IAAIjE,EAASC,MACVD,EAASC,KAAKxB,KACzBkF,EAAgB,YAEfiB,MAAM/E,GAAagF,SAAQ,WAC5BpB,GAAW,OAhBXvD,EAAA,EAAQJ,MAAM,gCAqDV3B,UAAU,iBAEV,wBAAIA,UAAU,kBAAd,YACA,sBAAMC,KAAN,CAAW0G,eAAgBxB,EAAOY,OAAS,SACzC,uBACEa,YAAY,aACZ1E,KAAK,QACL2E,SAAUpB,KAId,sBAAMxF,KAAN,CAAW0G,eAAgBxB,EAAOa,MAAQ,SACxC,uBACEY,YAAY,YACZ1E,KAAK,OACL2E,SAAUpB,KAGd,sBAAMxF,KAAN,CAAW0G,eAAgBxB,EAAO1E,UAAY,SAC5C,uBACEqG,OAAQ,uBAAM1G,KAAK,OAAO2G,MAAO,CAAEC,MAAO,qBAC1CJ,YAAY,WACZ1E,KAAK,WACL2E,SAAUpB,KAGd,sBAAMxF,KAAN,CAAW0G,eAAgBxB,EAAOc,OAAS,SACzC,uBACEa,OAAQ,uBAAM1G,KAAK,OAAO2G,MAAO,CAAEC,MAAO,qBAC1CJ,YAAY,QACZ1E,KAAK,QACL2E,SAAUpB,KAGd,sBAAMxF,KAAN,CAAW0G,eAAgBxB,EAAOe,UAAY,SAC5C,uBACEY,OAAQ,uBAAM1G,KAAK,OAAO2G,MAAO,CAAEC,MAAO,qBAC1C5G,KAAK,WACLwG,YAAY,WACZ1E,KAAK,WACL2E,SAAUpB,KAGd,sBAAMxF,KAAN,CAAW0G,eAAgBxB,EAAOgB,iBAAmB,SACnD,uBACEW,OAAQ,uBAAM1G,KAAK,OAAO2G,MAAO,CAAEC,MAAO,qBAC1C5G,KAAK,WACLwG,YAAY,mBACZ1E,KAAK,kBACL2E,SAAUpB,KAGd,sBAAMxF,KAAN,KACE,uBAAQG,KAAK,UAAU6G,SAAS,SAASjH,UAAU,wBAAnD,cAMa,UAAjBuF,GACA,2BACE,wBAAIvF,UAAU,gBAAd,6CCtHKkH,G,OAZM,WACnB,OACE,kBAAC,EAAD,KACE,yBAAKlH,UAAU,gBACb,yBAAKA,UAAU,kBACb,kBAAC,EAAD,W,kBCyEKmH,G,OAvED,WAAO,IAAD,EAEmClC,cAA7ChB,EAFU,EAEVA,SAAUiB,EAFA,EAEAA,aAAcE,EAFd,EAEcA,SAAUD,EAFxB,EAEwBA,OAFxB,EAGYjG,oBAAS,GAHrB,mBAGFoG,GAHE,WAIZ/F,EAAYZ,IAAMa,WAAWd,GAC7BW,EAAUC,cAmBVmG,EAAe,SAACvH,GACpBkH,EAASlH,EAAE6C,OAAOmB,KAAMhE,EAAE6C,OAAO2E,QAOnC,OAJAjG,qBAAU,WACRwE,EAAS,CAAE/B,KAAM,aACjB+B,EAAS,CAAE/B,KAAM,eAChB,IAED,yBAAKlC,UAAU,SACb,uBACEoG,SAAUlB,GA7BC,SAACpD,GAEhBF,QAAQkE,IAAIhE,GACZuE,IAAMC,KAAKC,EAAiBA,EAAcxC,KAAKC,MAAOlC,GAAM0E,MAAK,SAAC3E,GAChED,QAAQkE,IAAIjE,EAASC,MAErB,IAAMsF,EAAS9D,EAAezB,EAASC,KAAKyB,OAC5C3B,QAAQkE,IAAIsB,GACZ7H,EAAU8H,QAAV,aAAmB9D,MAAM1B,EAASC,KAAKyB,MAAOhD,UAAU,GAAS6G,IACjEtE,EAAU,wBAAyBjB,EAASC,KAAKyB,MAAO,GACxDxB,EAAA,EAAQuF,QAAQ,aAChBjI,EAAQc,KAAK,QAEZsG,MAAM/E,GAAagF,SAAQ,WAC5BpB,GAAW,SAgBTtF,UAAU,cAEV,wBAAIA,UAAU,eAAd,SACA,sBAAMC,KAAN,CAAW0G,eAAgBxB,EAAO1E,UAAY,SAC5C,uBACEqG,OAAQ,uBAAM1G,KAAK,OAAO2G,MAAO,CAAEC,MAAO,qBAC1CJ,YAAY,oBACZ1E,KAAK,WACL2E,SAAUpB,KAGd,sBAAMxF,KAAN,CAAW0G,eAAgBxB,EAAOe,UAAY,SAC5C,uBACEY,OAAQ,uBAAM1G,KAAK,OAAO2G,MAAO,CAAEC,MAAO,qBAC1C5G,KAAK,WACLwG,YAAY,WACZC,SAAUpB,EACVvD,KAAK,cAGT,sBAAMjC,KAAN,KACE,0CACA,uBAAGD,UAAU,oBAAoBa,KAAK,IAAtC,mBAGA,uBAAQT,KAAK,UAAU6G,SAAS,SAASjH,UAAU,qBAAnD,UALF,MAQK,uBAAGa,KAAK,aAAR,sBC5DE0G,G,OAZG,WAChB,OACE,kBAAC,EAAD,KACE,yBAAKvH,UAAU,aACb,yBAAKA,UAAU,kBACb,kBAAC,EAAD,WCsBKwH,G,OA1BU,WACvB,OACE,kBAAC,EAAD,KACE,yBAAKxH,UAAU,oBACb,yBAAKA,UAAU,kBACf,gDACA,yCACA,0CACA,wCACA,uCACA,sCACA,uCACA,wCACA,6BACA,uDACA,6BACA,oDACA,6BACA,gDACA,kCCZOyH,G,OATA,SAACpG,GAEd,OACE,yBAAKrB,UAAU,UACZqB,EAAMqG,S,kCCWEC,G,OAdE,SAACtG,GAEhB,OACE,kBAAC,IAAD,CAAMuG,GAAI,oBAAsBvG,EAAMwG,KAAM7H,UAAU,YACpD,yBAAKA,UAAU,eAAf,UAAqCqB,EAAMyG,SAC3C,yBAAK9H,UAAU,gBAAe,uBAAM+H,UAAQ,EAACrC,MAAOrE,EAAM2G,YAC1D,yBAAKhI,UAAU,gBAAf,WAAuCqB,EAAM4G,UAC7C,yBAAKjI,UAAU,cAAf,SAAmCqB,EAAM6G,QACzC,yBAAKlI,UAAU,cAAf,gBAA0CqB,EAAM8G,eAChD,yBAAKnI,UAAU,mBAAf,cAA6CqB,EAAM+G,gBCY1CC,G,OApBG,SAAChH,GAEjB,OACE,yBAAKrB,UAAU,aACZqB,EAAMsD,OAAStD,EAAMsD,MAAMlC,QAAUpB,EAAMsD,MAAM2D,KAAI,SAACC,EAAK/F,GAC1D,MAAW,SAAP+F,EAEA,0CAIF,kBAAC,EAAD,iBAAcA,EAAd,CAAmBrI,IAAKsC,QAI7BnB,EAAMmH,SAAW,uBAAUC,QAAM,O,0ECf/B,WAA0B3G,GAA1B,UAAA4G,EAAA,+EACE,IAAIC,SAAQ,SAACrK,EAASsK,GAC3BvC,IAAM,CAACwC,OAAQ,OAAQC,IAAIvC,EAAiBA,EAAcpC,OAAOC,KAAMtC,KAAK,CAACiH,MAAOjH,EAAKiH,MAAOC,YAAalH,EAAKkH,YAAatB,MAAO5F,EAAK4F,OAAQuB,QAAS,CAC1JC,cAAc,UAAD,OAAYpF,QACvB0C,MAAK,SAAC3E,GAER,IAAIsH,EAAQtH,EAASC,KACjBsH,EAAYD,EAAMC,UACZD,EAAMjJ,IAChBmG,IAAM,CACJwC,OAAQ,MACRC,IAAKM,EACLtH,KAAMA,EAAKuH,KAAKA,KAAKC,cACrBL,QAAS,CAAE,eAAgB,qBAC1BzC,MAAK,SAAC3E,GACPD,QAAQkE,IAAIjE,GACZE,EAAA,EAAQuF,QAAQ,8BAChBhJ,EAAQuD,MACP4E,OAAM,SAAC9E,GACRC,QAAQD,MAAMA,GACdI,EAAA,EAAQJ,MAAM,0CACdiH,EAAOjH,SAGR8E,OAAM,SAAC9E,GACRI,EAAA,EAAQJ,MAAM,0CACdC,QAAQD,MAAMA,GACdiH,EAAOjH,UA3BN,4C,sBAgCA,SAAeiD,KAAtB,gC,gDAAO,yCAAA8D,EAAA,6DAA2Ba,EAA3B,+BAAmC,EAAnC,kBACE,IAAIZ,SAAQ,SAACrK,EAASsK,GAC3BvC,IAAM,CAACwC,OAAQ,MAAOC,IAAIvC,EAAiBA,EAAc5B,MAAMC,YAAc,UAAY2E,EAAON,QAAS,CACvGC,cAAc,UAAD,OAAYpF,QACvB0C,MAAK,SAAC3E,GACRvD,EAAQuD,MACP4E,OAAM,SAAC9E,GACRI,EAAA,EAAQJ,MAAM,oCACdiH,EAAOjH,UARN,4C,sEAaA,yCAAA+G,EAAA,6DAA8Ba,EAA9B,+BAAsC,EAAtC,kBACE,IAAIZ,SAAQ,SAACrK,EAASsK,GAC3BvC,IAAM,CAACwC,OAAQ,MAAOC,IAAIvC,EAAiBA,EAAc5B,MAAML,OAAS,UAAYiF,EAAON,QAAS,CAClGC,cAAc,UAAD,OAAYpF,QACvB0C,MAAK,SAAC3E,GACRvD,EAAQuD,MACP4E,OAAM,SAAC9E,GACRI,EAAA,EAAQJ,MAAM,mCACdiH,EAAOjH,UARN,4C,sEAaA,WAAuBlD,GAAvB,UAAAiK,EAAA,+EACE,IAAIC,SAAQ,SAACrK,EAASsK,QAChBY,IAAP/K,GACFmK,EAAO,IAAIzK,MAAM,gBAEnBkI,IAAM,CAACwC,OAAQ,MAAOC,IAAIvC,EAAiBA,EAAc5B,MAAME,QAAU,OAASpG,EAAIwK,QAAS,CAC7FC,cAAc,UAAD,OAAYpF,QACvB0C,MAAK,SAACiD,GACRnL,EAAQmL,MACPhD,OAAM,SAAC9E,GACRI,EAAA,EAAQJ,MAAM,2BACdiH,EAAOjH,UAXN,4C,sEAgBA,WAA2B+H,GAA3B,UAAAhB,EAAA,+EACE,IAAIC,SAAQ,SAACrK,EAASsK,GAC3BvC,IAAM,CAACwC,OAAQ,MAAOC,IAAIvC,EAAiBA,EAAc5B,MAAMI,OAAS,iBAAmB2E,EAAOT,QAAS,CACzGC,cAAc,UAAD,OAAYpF,QACvB0C,MAAK,SAAC3E,GACRvD,EAAQuD,MACP4E,OAAM,SAAC9E,GACRI,EAAA,EAAQJ,MAAM,4BACdiH,EAAOjH,UARN,4C,sEAgBA,WAAwBgI,GAAxB,UAAAjB,EAAA,+EACE,IAAIC,SAAQ,SAACrK,EAASsK,QACZY,IAAXG,GACFf,EAAO,IAAIzK,MAAM,oBAEnBkI,IAAM,CACJwC,OAAQ,OACRC,IAAKvC,EAAiBA,EAAc5B,MAAMG,QAC1ChD,KAAM6H,EACNV,QAAS,CACPC,cAAc,UAAD,OAAYpF,QAE1B0C,MAAK,SAACiD,GACP1H,EAAA,EAAQuF,QAAQ,0BAChBhJ,EAAQmL,MACPhD,OAAM,SAAC9E,GACRI,EAAA,EAAQJ,MAAM,uBACdiH,EAAOjH,UAjBN,4C,sEAsBA,WAA2BiI,GAA3B,UAAAlB,EAAA,+EACE,IAAIC,SAAQ,SAACrK,EAASsK,QACZY,IAAXI,GACFhB,EAAO,IAAIzK,MAAM,oBAEnBkI,IAAM,CACJwC,OAAQ,MACRC,IAAKvC,EAAiBA,EAAc5B,MAAMG,QAAU,YAAc8E,EAClEX,QAAS,CACPC,cAAc,UAAD,OAAYpF,QAE1B0C,MAAK,SAACiD,GACPnL,EAAQmL,EAAI3H,SACX2E,OAAM,SAAC9E,GACRI,EAAA,EAAQJ,MAAM,6BACdiH,EAAOjH,UAfN,4C,iCCjFQkI,GA3BO,WAAO,IAAD,EACM3K,mBAAS,CAAC,UADhB,mBACnB4K,EADmB,KACTC,EADS,OAEY7K,oBAAS,GAFrB,mBAEnB8K,EAFmB,KAEF1E,EAFE,KAGpBjG,EAAUC,cAQhB,OANAG,qBAAU,WACRmF,GAAY,GAAG4B,MAAK,SAACiD,GACnBM,EAAYtG,KAAKC,MAAM+F,EAAI3H,KAAK2H,MAChCnE,GAAW,QAEZ,IAED,kBAAC,EAAD,KACE,yBAAKtF,UAAU,iBACb,kBAAC,EAAD,CAAQ0H,MAAM,eACd,yBAAK1H,UAAU,kBACb,sBAAOiK,OAAP,CAAcC,YAAY,SAASC,KAAK,QAAQC,SAAU,SAACC,GACzDhL,EAAQc,KAAK,qBAAuBkK,MAEtC,8CACA,kBAAC,EAAD,CAAW1F,MAAOmF,EAAUtB,QAASwB,QCIhCM,I,OAxBW,SAACjJ,GAAW,IAAD,EACOnC,mBAAS,CAAC,UADjB,mBAC5BqL,EAD4B,KACbC,EADa,OAEAtL,oBAAS,GAFT,mBAE5BuL,EAF4B,KAEdnF,EAFc,KAWnC,OAPA7F,qBAAU,YFkEL,SAAP,oCEhEIiL,CADYrJ,EAAMsJ,MAAQtJ,EAAMsJ,MAAMC,OAAOlB,MAAQrI,EAAMqI,OACxClD,MAAK,SAACiD,GACvBe,EAAiB/G,KAAKC,MAAM+F,EAAI3H,KAAK2H,MACrCnE,GAAW,QAEZ,IAED,kBAAC,EAAD,KACE,yBAAKtF,UAAU,qBACb,kBAAC,EAAD,CAAQ0H,MAAM,iBACd,yBAAK1H,UAAU,kBACb,+CACA,kBAAC,EAAD,CAAW2E,MAAO4F,EAAe/B,QAASiC,S,mBCYrCI,I,OA/BE,SAACxJ,GAAW,IAAD,EACMnC,mBAAS,GADf,mBACnB4L,EADmB,KACTC,EADS,KAa1B,OAXAtL,qBAAU,WACJ4B,EAAM2J,SH2GP,SAAP,mCG1GMC,CAAY5J,EAAM2J,SAASxE,MAAK,SAACiD,GAC/B,IAAIE,EAASF,EAAIE,OACbA,IACFA,EAASlG,KAAKC,MAAMiG,GACpBoB,EAAYpB,EAAOuB,kBAEpBzE,MAAM/E,KAEV,CAACL,EAAM2J,UAER,yBAAKhL,UAAU,YACb,uBAAM0F,MAAOoF,EAAUjE,SACrB,SAACwD,IHwEF,SAAP,oCGvEUc,CAAS,CAACH,QAAS3J,EAAM2J,QAASrB,OAAQU,IAAM7D,MAAK,SAACiD,OAEnDhD,OAAM,SAAC9E,GACRD,EAAYC,GACZoJ,EAAY,MAEdA,EAAYV,SC6BPe,I,OA9CE,SAAC/J,GAAW,IAAD,EACFnC,mBAASmC,EAAMsJ,MAAMC,OAAOnM,IAD1B,mBACX4M,GADW,aAEInM,mBAAS,KAFb,mBAEnBoM,EAFmB,KAEVC,EAFU,OAGFrM,mBAAS,IAHP,mBAGnBkF,EAHmB,KAGboH,EAHa,OAIMtM,mBAAS,GAJf,6BAc1B,OATAO,qBAAU,WACR4L,EAAMhK,EAAMsJ,MAAMC,OAAOnM,IJ4CtB,SAAP,mCI3CIoG,CAAQxD,EAAMsJ,MAAMC,OAAOnM,IAAI+H,MAAK,SAACiD,GACnC8B,EAAW9B,EAAI3H,KAAKsH,WACpBoC,EAAQ/H,KAAKC,MAAM+F,EAAI3H,KAAKsC,UAC3BqC,OAAM,SAAC9E,GACRD,EAAYC,QAEb,IAED,kBAAC,EAAD,KACE,yBAAK3B,UAAU,YACf,kBAAC,EAAD,CAAQ0H,MAAM,SACZ,yBAAK1H,UAAU,kBACb,wBAAIA,UAAU,SAASoE,EAAK0D,SAC5B,yBAAK9H,UAAU,aACf,uBAAGA,UAAU,UAAb,WAA8B,uBAAGa,KAAM,UAAYuD,EAAK6D,UAAW7D,EAAK6D,WACxE,uBAAGjI,UAAU,WAAb,YAAgC,uBAAGa,KAAM,KAAMuD,EAAKqH,YACpD,uBAAGzL,UAAU,QAAb,gBAAkCoE,EAAK+D,eACvC,uBAAGnI,UAAU,aAAb,cAAqCoE,EAAKgE,aAC1C,uBAAGpI,UAAU,UAAb,mBAAuCoE,EAAK4D,SAA5C,MACA,6CACA,kBAAC,GAAD,CAAUgD,QAAS5G,EAAKyD,QAExB,yBAAK7H,UAAU,eACf,4BACAA,UAAU,aACRwB,IAAK8J,IAGP,yBAAKtL,UAAU,gBACb,kBAAC0L,GAAA,EAAD,MACA,uBAAG7K,KAAMyK,EAASvK,OAAO,UAAzB,mB,yDCtCJ4K,I,YAAAA,QAAQC,G,KAAAA,SAqJDC,GAnJI,WAAO,IAAD,EAC8B5G,cAA7ChB,EADe,EACfA,SAAUiB,EADK,EACLA,aAAcE,EADT,EACSA,SAAUD,EADnB,EACmBA,OADnB,EAESjG,oBAAS,GAFlB,mBAEhB4M,EAFgB,KAENC,EAFM,KAGjBxM,EAAYZ,IAAMa,WAAWd,GAHZ,GAIPY,cAEkBJ,mBAAS,KANpB,mBAMf8M,EANe,KAMLC,EANK,KA+BjBxG,EAAe,SAACvH,GAEpBkH,EAASlH,EAAE6C,OAAOmB,KAAMhE,EAAE6C,OAAO2E,QAcnC,OAXAjG,qBAAU,WACRwE,EAAS,CAAE/B,KAAM,SAAW,CAAEyD,UAAU,IACxC1B,EAAS,CAAE/B,KAAM,SAAW,CAAEyD,UAAU,IACxC1B,EAAS,CAAE/B,KAAM,eAAiB,CAAEyD,UAAU,IAC9C1B,EAAS,CAAE/B,KAAM,WAChB,IACHzC,qBAAU,YACJ0F,EAAOuC,OAASvC,EAAO4D,OAAS5D,EAAO6D,cACzCjH,EAAA,EAAQJ,MAAM,6BAEf,CAACwD,IAEF,yBAAKnF,UAAU,cACb,uBACEoG,SAAUlB,GA5BC,SAACpD,GAChBiK,GAAY,GLhCT,SAAP,mCKiCIG,CAAW,eAAIpK,EAAL,CAAWyB,MAAOhE,EAAUgE,SAAQiD,MAAK,WACjDuF,GAAY,MACXtF,OAAM,SAAC9E,GACRoK,GAAY,SAwBV/L,UAAU,mBAEV,wBAAIA,UAAU,oBAAd,gBACA,sBAAMC,KAAN,CAAWkM,MAAM,QAAQxF,eAAgBxB,EAAOuC,OAAS,SACvD,uBACEd,YAAY,QACZ1E,KAAK,QACL2E,SAAUpB,KAGd,sBAAMxF,KAAN,CAAWkM,MAAM,QAAQxF,eAAgBxB,EAAO4D,OAAS,SACvD,wBACEnC,YAAY,iBACZ1E,KAAK,QACL2E,SAAU,SAAC3I,GACTkH,EAAS,QAASlH,KAGpB,kBAAC0N,GAAD,CAAUO,MAAM,oCACd,kBAACR,GAAD,CAAQjG,MAAM,oBAAd,wBACA,kBAACiG,GAAD,CAAQjG,MAAM,eAAd,wBACA,kBAACiG,GAAD,CAAQjG,MAAM,oBAAd,yBAEF,kBAACkG,GAAD,CAAUO,MAAM,iCACd,kBAACR,GAAD,CAAQjG,MAAM,aAAd,aACA,kBAACiG,GAAD,CAAQjG,MAAM,YAAd,YACA,kBAACiG,GAAD,CAAQjG,MAAM,aAAd,aACA,kBAACiG,GAAD,CAAQjG,MAAM,aAAd,aACA,kBAACiG,GAAD,CAAQjG,MAAM,cAAd,qBACA,kBAACiG,GAAD,CAAQjG,MAAM,aAAd,oBACA,kBAACiG,GAAD,CAAQjG,MAAM,cAAd,sBAEF,kBAACkG,GAAD,CAAUO,MAAM,sCACd,kBAACR,GAAD,CAAQjG,MAAM,aAAd,aACA,kBAACiG,GAAD,CAAQjG,MAAM,aAAd,aACA,kBAACiG,GAAD,CAAQjG,MAAM,mBAAd,mBACA,kBAACiG,GAAD,CAAQjG,MAAM,WAAd,WACA,kBAACiG,GAAD,CAAQjG,MAAM,cAAd,cACA,kBAACiG,GAAD,CAAQjG,MAAM,QAAd,QACA,kBAACiG,GAAD,CAAQjG,MAAM,qBAAd,2BACA,kBAACiG,GAAD,CAAQjG,MAAM,cAAd,eAEF,kBAACkG,GAAD,CAAUO,MAAM,qBACd,kBAACR,GAAD,CAAQjG,MAAM,WAAd,WACA,kBAACiG,GAAD,CAAQjG,MAAM,aAAd,aACA,kBAACiG,GAAD,CAAQjG,MAAM,WAAd,WACA,kBAACiG,GAAD,CAAQjG,MAAM,OAAd,yBACA,kBAACiG,GAAD,CAAQjG,MAAM,kBAAd,mBAEF,kBAACkG,GAAD,CAAUO,MAAM,wBACd,kBAACR,GAAD,CAAQjG,MAAM,QAAd,QACA,kBAACiG,GAAD,CAAQjG,MAAM,oBAAd,oBACA,kBAACiG,GAAD,CAAQjG,MAAM,gBAAd,iBAEF,kBAACkG,GAAD,CAAUO,MAAM,iBACd,kBAACR,GAAD,CAAQjG,MAAM,QAAd,QACA,kBAACiG,GAAD,CAAQjG,MAAM,SAAd,SACA,kBAACiG,GAAD,CAAQjG,MAAM,WAAd,WACA,kBAACiG,GAAD,CAAQjG,MAAM,eAAd,gBAEF,kBAACkG,GAAD,CAAUO,MAAM,SACd,kBAACR,GAAD,CAAQjG,MAAM,SAAd,YAIN,sBAAMzF,KAAN,CAAWkM,MAAM,cAAcxF,eAAgBxB,EAAO6D,aAAe,SACnE,sBAAOoD,SAAP,CACElK,KAAK,cACL0E,YAAY,cACZC,SAAUpB,KAId,sBAAMxF,KAAN,CAAW0G,eAAgBxB,EAAOkE,MAAQ,SACxC,wBAAQnH,KAAK,OAAO9B,KAAK,OAAOiM,cArHnB,SAAC,GAAwB,EAAtBhD,KAAuB,IAAjBiD,EAAgB,EAAhBA,UAC5BC,YAAW,WACTD,EAAU,QACT,IAkHgEN,SAAUA,EAAUnF,SAhHpE,SAAC2F,GACpB,IAAIR,EAAQ,aAAOQ,EAAKR,UACpBS,EAAWT,EAASA,EAASvJ,OAAS,GACtCgK,GACFR,EAAY,CAACQ,IAGfrH,EAAS,OAAQ,CAACiE,KAAMoD,KA0GhBC,SACE,WACET,EAAY,MAIhB,2BACE,kBAACU,GAAA,EAAD,MADF,sBAKJ,sBAAM1M,KAAN,KACE,uBAAQG,KAAK,UAAU6G,SAAS,SAASjH,UAAU,oBAAoBwI,QAASsD,GAAhF,cCvIKc,I,OAZI,WACjB,OACE,kBAAC,EAAD,KACE,yBAAK5M,UAAU,cACb,yBAAKA,UAAU,kBACb,kBAAC,GAAD,WCEK6M,I,OATF,SAACxL,GAEZ,OACE,yBAAKrB,UAAU,WACZqB,EAAMC,YCLPwL,I,OAAc,SAACpK,GACnB,IAAIqK,EAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAK3F,OAJIrK,GACFqK,EAAOC,OAAOD,EAAOlK,QAAQH,GAAI,GAG5BqK,EADSE,KAAKC,MAAMD,KAAKE,SAAWJ,EAAOtK,WAoCrC2K,GAhCA,SAAC/L,GACd,IAAIgM,EAAKP,KACLQ,EAAKR,GAAaO,GAClB3K,EAAI,mBAAqBuK,KAAKE,SAAW,SAAWE,EAAM,KAAOC,EAAK,IAC1E7N,qBAAU,WACgB,IAApB4B,EAAMkM,WACRC,EAAM,QAAD,OAASnM,EAAMkM,WAAf,OAGLC,EAAM9K,KAEP,CAACrB,EAAMkM,aAXc,MAYJrO,mBAASwD,GAZL,mBAYjB+K,EAZiB,KAYbD,EAZa,OAcMtO,mBAAS,UAdf,mBAcjBc,EAdiB,KAcN0N,EAdM,KA0BxB,OAXAjO,qBAAU,WACR,IAAIkO,EAAS,GACb,OAAOtM,EAAM8I,MACX,IAAK,QACL,IAAK,QACHwD,EAAStM,EAAM8I,KAGnBuD,EAAS,UAAYC,EAAS,IAAMtM,EAAMrB,aACzC,IAGD,yBAAKA,UAAWA,EAAW+G,MAAO,CAAC6G,gBAAgBH,M,uDCjChD,yCAAA/E,EAAA,6DAAsBa,EAAtB,+BAA8B,EAA9B,kBACE,IAAIZ,SAAQ,SAACrK,EAASsK,GAC3BvC,IAAM,CAACwC,OAAQ,MAAOC,IAAIvC,EAAiBA,EAAchC,MAAMC,OAAS,UAAY+E,EAAON,QAAS,CAClGC,cAAc,UAAD,OAAYpF,QACvB0C,MAAK,SAAC3E,GACRvD,EAAQuD,MACP4E,OAAM,SAAC9E,GACRI,EAAA,EAAQJ,MAAM,gCACdiH,EAAOjH,UARN,4C,sEAcA,WAAuBlD,GAAvB,UAAAiK,EAAA,+EACE,IAAIC,SAAQ,SAACrK,EAASsK,GAC3BvC,IAAM,CAACwC,OAAQ,MAAOC,IAAIvC,EAAiBA,EAAchC,MAAMjE,KAAO,OAAS7B,EAAIwK,QAAS,CAC1FC,cAAc,UAAD,OAAYpF,QACvB0C,MAAK,SAAC3E,GACRvD,EAAQmF,KAAKC,MAAM7B,EAASC,KAAK2H,SAChChD,OAAM,SAAC9E,GACRI,EAAA,EAAQJ,MAAM,gCACdiH,EAAOjH,UARN,4C,sBAcA,SAAekM,GAAtB,mC,gDAAO,WAA4BpP,GAA5B,UAAAiK,EAAA,+EACE,IAAIC,SAAQ,SAACrK,EAASsK,GAC3BvC,IAAM,CAACwC,OAAQ,MAAOC,IAAIvC,EAAiBA,EAAchC,MAAMG,UAAY,OAASjG,EAAIwK,QAAS,CAC/FC,cAAc,UAAD,OAAYpF,QACvB0C,MAAK,SAACiD,GACRnL,EAAQmL,EAAI3H,KAAKsH,cAChB3C,OAAM,SAAC9E,GACRI,EAAA,EAAQJ,MAAM,2CACdiH,EAAOjH,UARN,4C,sEAaA,WAAiCrB,GAAjC,UAAAoI,EAAA,+EACE,IAAIC,SAAQ,SAACrK,EAASsK,GAC3BvC,IAAM,CAACwC,OAAQ,MAAOC,IAAIvC,EAAiBA,EAAchC,MAAME,kBAAoB,OAASnE,EAAM2I,QAAS,CACzGC,cAAc,UAAD,OAAYpF,QACvB0C,MAAK,SAAC3E,GACRvD,EAAQmF,KAAKC,MAAM7B,EAASC,KAAK2H,SAChChD,OAAM,SAAC9E,GACRI,EAAA,EAAQJ,MAAM,sCACdiH,EAAOjH,UARN,4C,sEAcA,WAA0BrB,GAA1B,UAAAoI,EAAA,+EACE,IAAIC,SAAQ,SAACrK,EAASsK,GAC3BvC,IAAM,CAACwC,OAAQ,QAASC,IAAIvC,EAAiBA,EAAchC,MAAMjE,KAAO,OAASA,EAAKG,SACpFwI,QAAS,CACPC,cAAc,UAAD,OAAYpF,MAE3BhC,KAAMxB,IACLkG,MAAK,SAAC3E,GACPD,QAAQkE,IAAIjE,GACZvD,EAAQuD,EAASC,KAAKyB,UACrBkD,OAAM,SAAC9E,GACRI,EAAA,EAAQJ,MAAM,yBACdiH,EAAOjH,UAZN,4C,sEAkBA,WAA+BrB,EAAMwN,GAArC,UAAApF,EAAA,+EACE,IAAIC,SAAQ,SAACrK,EAASsK,GAC3BvC,IAAM,CACJwC,OAAQ,MAAOC,IAAIvC,EAAiBA,EAAchC,MAAMG,UAAY,OAASpE,EAAKG,SAClFwI,QAAS,CACPC,cAAc,UAAD,OAAYpF,QAE1B0C,MAAK,SAAC3E,GAEP,IAAIsH,EAAQtH,EAASC,KACjBsH,EAAYD,EAAMC,UACZD,EAAMjJ,IAChBmG,IAAM,CACJwC,OAAQ,MACRC,IAAKM,EACLtH,KAAMgM,EACN7E,QAAS,CAAE,eAAgB,uBAC1BzC,MAAK,SAAC3E,GACPD,QAAQkE,IAAIjE,GACZE,EAAA,EAAQuF,QAAQ,yCAChBhJ,EAAQuD,MACP4E,OAAM,SAAC9E,GACRC,QAAQD,MAAMA,GACdI,EAAA,EAAQJ,MAAM,6CACdiH,EAAOjH,SAGR8E,OAAM,SAAC9E,GACRI,EAAA,EAAQJ,MAAM,6CACdC,QAAQD,MAAMA,GACdiH,EAAOjH,UA9BN,4C,sBCvEP,IAAMmL,GAAc,SAACpK,GACnB,IAAIqK,EAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAK3F,OAJIrK,GACFqK,EAAOC,OAAOD,EAAOlK,QAAQH,GAAI,GAG5BqK,EADSE,KAAKC,MAAMD,KAAKE,SAAWJ,EAAOtK,UA2BrCsL,GAvBE,SAAC1M,GAChB,IAAIgM,EAAKP,KACLQ,EAAKR,GAAaO,GAFI,GAGGJ,KAAKE,SACJjO,mBAASmC,EAAM2M,aAJnB,mBAInBtJ,EAJmB,KAIRuJ,EAJQ,KAY1B,OAPAxO,qBAAU,WACH4B,EAAM2M,YACTH,GAAaxM,EAAM6M,UAAU1H,MAAK,SAACiD,GACjCwE,EAASxE,MACRhD,MAAM/E,KAEV,IAED,kBAAC,IAAD,CAAM1B,UAAU,WAAW4H,GAAI,UAAYvG,EAAM6M,UAC/C,kBAAC,GAAD,CAAQX,WAAY7I,IACpB,yBAAK1E,UAAU,aAAf,SAAkCqB,EAAM8M,YACxC,yBAAKnO,UAAU,cAAf,UAAoCqB,EAAM+M,YAC1C,yBAAKpO,UAAU,eAAc,uBAAM+H,UAAQ,EAACrC,MAAO2I,SAAShN,EAAMiN,gBAClE,yBAAKtO,UAAU,kBAAf,cAA4CqB,EAAMkN,kBCfzCC,I,OAfE,SAACnN,GAEhB,OACE,yBAAKrB,UAAU,YACZqB,EAAMkD,OAASlD,EAAMkD,MAAM9B,QAAUpB,EAAMkD,MAAM+D,KAAI,SAACC,EAAK/F,GAC1D,OACE,kBAAC,GAAD,eAAUtC,IAAKsC,GAAO+F,OAIzBlH,EAAMmH,SAAW,uBAAUC,QAAM,O,gDCTjC,yCAAAC,EAAA,6DAAgCa,EAAhC,+BAAwC,EAAxC,kBACE,IAAIZ,SAAQ,SAACrK,EAASsK,GAC3BvC,IAAM,CAACwC,OAAQ,MAAOC,IAAIvC,EAAiBA,EAAclC,cAAcC,OAAS,UAAYiF,EAAON,QAAS,CAC1GC,cAAc,UAAD,OAAYpF,QACvB0C,MAAK,SAAC3E,GACRvD,EAAQuD,MACP4E,OAAM,SAAC9E,GACRI,EAAA,EAAQJ,MAAM,oCACdiH,EAAOjH,UARN,4C,iCCqFQ8M,GA3EG,WAAO,IAAD,EACoBvP,mBAAS,IAD7B,mBACfmF,EADe,KACAqK,EADA,OAEUxP,mBAAS,IAFnB,mBAEfyP,EAFe,KAELC,EAFK,OAGU1P,mBAAS,IAHnB,mBAGf4K,EAHe,KAGLC,EAHK,OAIgB7K,mBAAS,IAJzB,mBAIf2P,EAJe,KAIFC,EAJE,OAMI5P,oBAAS,GANb,mBAMf6P,EANe,KAMXC,EANW,OAOI9P,oBAAS,GAPb,mBAOf+P,EAPe,KAOXC,EAPW,OAQIhQ,oBAAS,GARb,mBAQfiQ,EARe,KAQXC,EARW,KAUhB7P,EAAYZ,IAAMa,WAAWd,GAyBnC,OAxBAe,qBAAU,YDrBL,WAAP,iCCsBI4P,CAAiB,GAAG7I,MAAK,SAACiD,GACxBiF,EAAiBjL,KAAKC,MAAM+F,EAAI3H,KAAK2H,WAGtC,IACHhK,qBAAU,YJ3BL,WAAP,iCI4BI+E,CAAO,GAAGgC,MAAK,SAACiD,GACdmF,EAAYnL,KAAKC,MAAM+F,EAAI3H,KAAK2H,MAChCuF,GAAY,QAEb,IACHvP,qBAAU,WACRmF,GAAY,GAAG4B,MAAK,SAACiD,GACnBM,EAAYtG,KAAKC,MAAM+F,EAAI3H,KAAK2H,MAChCyF,GAAY,QAEb,IACHzP,qBAAU,YbML,WAAP,iCaLI6P,CAAe,GAAG9I,MAAK,SAACiD,GACtBqF,EAAerL,KAAKC,MAAM+F,EAAI3H,KAAK2H,MACnC2F,GAAY,QAEb,IAED,kBAAC,EAAD,KACE,yBAAKpP,UAAU,aACf,kBAAC,EAAD,CAAQ0H,MAAM,UACZ,yBAAK1H,UAAU,aACb,yBAAKA,UAAU,QACb,uCAAaT,EAAUe,KAAKK,UAA5B,KACA,gKAEF,yBAAKX,UAAU,QACb,sDACCqE,EAAc5B,OACb,6BACG4B,EAAciE,KAAI,SAACC,EAAK/F,GACvB,OACE,uBAAGtC,IAAKsC,GAAI+F,EAAIgH,kBAItB,uBAAU9G,QAAM,KAGpB,kBAAC,GAAD,KACE,wBAAIzI,UAAU,SAAd,mBACA,kBAAC,GAAD,CAAUuE,MAAOoK,EAAUnG,QAASuG,KAEtC,kBAAC,GAAD,KACA,wBAAI/O,UAAU,SAAd,iBACE,kBAAC,EAAD,CAAW2E,MAAOmF,EAAUtB,QAASyG,KAEvC,kBAAC,GAAD,KACE,wBAAIjP,UAAU,SAAd,gBACA,kBAAC,EAAD,CAAW2E,MAAOkK,EAAarG,QAAS2G,SCxBrCK,I,OA9CK,WAClB,IAAM5E,EAAS6E,cACTlQ,EAAYZ,IAAMa,WAAWd,GAFX,EAGMQ,mBAAS,IAHf,mBAGjBwQ,EAHiB,KAGRC,EAHQ,OAIoBzQ,mBAAS,IAJ7B,mBAIjB0Q,EAJiB,KAIDC,EAJC,OAKY3Q,mBAAS,IALrB,mBAKjB4Q,EALiB,KAKLC,EALK,KAMlBC,EAAOpF,EAAOnM,KAAOc,EAAUe,KAAKG,SAiB1C,OAfAhB,qBAAU,YLDL,SAAP,oCKGIwQ,CAAQrF,EAAOnM,IAAI+H,MAAK,SAACiD,GACvB7H,QAAQkE,IAAI2D,GACZkG,EAAWlG,MACVhD,OAAM,SAAC9E,GACRD,EAAYC,MAEdkM,GAAajD,EAAOnM,IAAI+H,MAAK,SAACiD,GAC5BsG,EAActG,MACbhD,MAAM/E,GLgBN,SAAP,mCKfI+C,CAAkBmG,EAAOnM,IAAI+H,MAAK,SAACiD,GACjCoG,EAAkBpG,MACjBhD,MAAM/E,KACR,IAED,kBAAC,EAAD,KACE,yBAAK1B,UAAU,eACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,uBACb,kBAAC,GAAD,CAAQmK,KAAK,QAAQoD,WAAYuC,EAAY9P,UAAU,YAEzD,4BAAK0P,EAAQvB,WAAb,IAA0BuB,EAAQQ,WAClC,yBAAKlQ,UAAU,SAAf,mBAAuC,8BAAO0P,EAAQtB,aACtD,yBAAKpO,UAAU,UAAf,WAAiC0P,EAAQpB,aAAe,EAAxD,MACA,yBAAKtO,UAAU,aAAf,mBAA4C0P,EAAQnB,gBACpD,yBAAKvO,UAAU,QAAf,gBAAmC,2BAAI0P,EAAQS,kBAAoB,4BACnE,yBAAKnQ,UAAU,mBACb,yBAAKA,UAAU,SAAf,mBACC4P,EAAiB,kBAAC,EAAD,CAAWjL,MAAOiL,IAAoB,kEAExDI,GAAQ,kBAAC,IAAD,CAAMpI,GAAI,gBAAgB,uBAAQuC,KAAK,SAAb,sB,mBC8C/BiG,I,OAtFM,SAAC/O,GAAW,IAAD,EACuB4D,cAA7ChB,EADsB,EACtBA,SAAUiB,EADY,EACZA,aAAcE,EADF,EACEA,SAAUD,EADZ,EACYA,OADZ,EAEAjG,oBAAS,GAFT,mBAGxBK,GAHwB,UAGZZ,IAAMa,WAAWd,IAHL,GAIdY,cAEgBJ,oBAAS,IANX,mBAMbmR,GANa,WAgBxB5K,EAAe,SAACvH,GACpBkH,EAASlH,EAAE6C,OAAOmB,KAAMhE,EAAE6C,OAAO2E,OACjC2K,GAAY,IAoBd,OAjBA5Q,qBAAU,WAKR,IAAK,IAAIS,KAJT+D,EAAS,CAAE/B,KAAM,aAAc,CAAEyD,UAAU,IAC3C1B,EAAS,CAAE/B,KAAM,aACjB+B,EAAS,CAAE/B,KAAM,gBACjB+B,EAAS,CAAE/B,KAAM,SAAW,CAAEyD,UAAU,IACxBpG,EAAUe,KACxB8E,EAASlF,EAAKX,EAAUe,KAAKJ,MAE9B,IAEHT,qBAAU,WACRmC,QAAQkE,IAAIX,IACRA,EAAOxE,WAAawE,EAAOmL,UAAYnL,EAAOc,QAChDlE,EAAA,EAAQJ,MAAM,2BAEf,CAACwD,IAGF,uBACEiB,SAAUlB,GAhCG,SAACpD,INyCb,SAAP,oCMxCIyO,CAAW,eAAIzO,EAAL,CAAWrB,SAAUlB,EAAUe,KAAKG,YAAW+F,MAAK,SAACjD,GAC7DxB,EAAA,EAAQuF,QAAQ,mBAChB,IAAMF,EAAS9D,EAAeC,GAC9BhE,EAAU8H,QAAV,aAAmB9D,MAAMA,EAAOhD,UAAU,GAAS6G,IACnDtE,EAAU,wBAAyBS,EAAO,MACzCkD,MAAM/E,MA2BP1B,UAAW,gBAAkBqB,EAAMrB,UACnCkC,KAAK,YAEL,sBAAMjC,KAAN,CAAW0G,eAAgBxB,EAAOY,OAAS,SACzC,uBACEa,YAAY,aACZ1E,KAAK,YACLsO,aAAcjR,EAAUe,KAAKK,UAC7BkG,SAAUpB,KAGd,sBAAMxF,KAAN,CAAW0G,eAAgBxB,EAAOa,MAAQ,SACxC,uBACEY,YAAY,YACZ1E,KAAK,WACLsO,aAAcjR,EAAUe,KAAKgQ,SAC7BzJ,SAAUpB,KAGd,sBAAMxF,KAAN,CAAW0G,eAAgBxB,EAAOc,OAAS,SACzC,uBACEa,OAAQ,uBAAM1G,KAAK,OAAO2G,MAAO,CAAEC,MAAO,qBAC1CJ,YAAY,QACZ1E,KAAK,QACLsO,aAAcjR,EAAUe,KAAK2F,MAC7BY,SAAUpB,KAGd,sBAAMxF,KAAN,CAAW0G,eAAgBxB,EAAO6D,aAAe,SAC/C,sBAAOoD,SAAP,CACExF,YAAY,cACZ1E,KAAK,cACLsO,aAAcjR,EAAUe,KAAK0I,YAC7BnC,SAAUpB,KAGd,sBAAMxF,KAAN,KACE,uBAAQG,KAAK,UAAU6G,SAAS,SAASjH,UAAU,sBAAnD,sBC2BOyQ,I,OAvGS,SAACpP,GACRoO,cAAf,IACMlQ,EAAYZ,IAAMa,WAAWd,GAFF,EAIXQ,mBAAS,IAJE,mBAIzBuO,EAJyB,KAIrBiD,EAJqB,OAKCxR,mBAAS,IALV,mBAKzB8M,EALyB,KAKfC,EALe,OAMD/M,oBAAS,GANR,mBAMzByR,EANyB,KAMhBC,EANgB,OAOO1R,mBAAS,QAPhB,mBAOzB2R,EAPyB,KAOZC,EAPY,KA+B3BC,EAAe,WACnBH,GAAW,GACXE,EAAe,SAMXE,EAAc,WAClBpP,QAAQkE,IAAI,gBACZgL,EAAe,aPwBZ,SAAP,qCOvBIG,CAAgB1R,EAAUe,KAAM0L,EAAS,GAAG1C,eAAe9C,MAAK,SAACiD,GAC/DqH,EAAe,QACfF,GAAW,MACVnK,OAAM,SAAC9E,GACRmP,EAAe,YAGbI,EAAoBC,iBAAO,MACjC,OACE,kBAAC,EAAD,KACE,yBAAKnR,UAAU,mBAEb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,gBACb,wBAAIA,UAAU,cAAd,gBACA,kBAAC,GAAD,CAAQmK,KAAK,QAAQoD,WAAYE,EAAIzN,UAAU,WAE7C,uBAAQI,KAAK,UAAUJ,UAAU,sBAAsBH,QAxBjD,WAChB+Q,GAAW,GACXhP,QAAQkE,IAAIoL,KAsBF,0BAGA,wBACEP,QAASA,EACTjJ,MAAM,yBACN0J,KAAMJ,EACNK,SAAUN,EACV/Q,UAAU,wBACVsR,OAAQ,CACN,uBAAQpR,IAAI,OAAOL,QAASkR,GAA5B,UAGA,uBAAQ7Q,IAAI,SAASE,KAAK,UAAUoI,QAAyB,cAAhBqI,EAA6BhR,QAASmR,EAAajJ,SAA6B,GAAnBiE,EAASvJ,QAChG,cAAhBoO,GAA+B,kBAAClE,GAAA,EAAD,MADlC,aAKF,yBAAK3M,UAAU,kBACb,wBAAQA,UAAU,qBAAqBkC,KAAK,OAAO9B,KAAK,OAAOiM,cAtE1D,SAAC,GAAwB,EAAtBhD,KAAuB,IAAjBiD,EAAgB,EAAhBA,UAC5BC,YAAW,WACTD,EAAU,QACT,IAmEuGN,SAAUA,EAAUnF,SAjE3G,SAAC2F,GACpB,IAAIR,EAAQ,aAAOQ,EAAKR,UAExB,GADAuF,IAAIC,gBAAgB/D,GAChBzB,EAASvJ,OAAQ,CACnB,IAAIgK,EAAWT,EAASA,EAASvJ,OAAS,GACtCgK,GACFR,EAAY,CAACQ,IAEf,IAAIgF,EAAQF,IAAIG,gBAAgBjF,EAASnD,eACzC1H,QAAQkE,IAAI2L,GACZf,EAAMe,GACN7P,QAAQkE,IAAI2G,QAGZiE,EAAM,KAoDQhE,SACE,WACET,EAAY,MAIhB,yBAAKjM,UAAU,2BACb,kBAAC,GAAD,CAAQmK,KAAK,QAAQoD,WAAYE,EAAIzN,UAAU,YAEjD,uBAAQA,UAAU,gBAAgB2R,SAAUT,GAA5C,qBAOR,kBAAC,GAAD,CAAcU,QAASrS,EAAUe,KAAMN,UAAU,oB,gDC1GtD,WAA2BuD,GAA3B,UAAAmF,EAAA,+EACE,IAAIC,SAAQ,SAACrK,EAASsK,GAC3BvC,IAAMC,KAAKC,EAAiBA,EAAcxC,KAAKG,OAAQ,CAACX,MAAOA,IAAQiD,KAAvE,iCAAAkC,EAAA,MAA6E,WAAO7G,GAAP,gBAAA6G,EAAA,sDACvEmJ,EAAUhQ,EAASC,KACvBF,QAAQkE,MACRxH,EAAQuT,GAHmE,2CAA7E,uDAIGpL,OAAM,SAAC9E,GACRiH,EAAOjH,UAPN,4C,sBCmFQmQ,OA5Df,WAAgB,IAAD,EACW5S,mBAAS,CAACqE,MAAM,GAAIhD,UAAU,IADzC,mBACND,EADM,KACA+G,EADA,OAE2BnI,oBAAS,GAFpC,mBAEN6S,EAFM,KAEQC,EAFR,KAGPzO,EAAQvB,EAAU,yBAExBvC,qBAAU,WAGK,IAAT8D,ED/BD,SAAP,mCCgCM0O,CAAY1O,GAAOiD,MAAK,WACtB,IAAIlG,EAAOgD,EAAeC,GAC1B8D,EAAQ,aAAC9D,MAAOA,EAAOhD,UAAS,GAASD,IACzC0R,GAAgB,GAChBjQ,EAAA,EAAQuF,QAAQ,gBAAkBhH,EAAKK,cACtC8F,OAAM,SAACyL,GAERF,GAAgB,MAIlBA,GAAgB,KAGlB,IACF,IAAMG,EAAc,SAACC,EAAW/Q,GAC9B,OAAIf,EAAKC,SAEA,kBAAC6R,EAAc/Q,IAGtBU,EAAA,EAAQyK,KAAK,yCACN,kBAAC,IAAD,CAAU3L,KAAK,QAG1B,OACE,kBAAC,IAAD,KACE,6BACGkR,GACC,kBAAC,IAAD,KACE,kBAAClT,EAAD,CAAc6G,MAAO,CAACpF,KAAMA,EAAM+G,QAASA,EAAS7G,OAAQ,WAAO6G,EAAQ,CAAC9D,MAAM,GAAIhD,UAAU,IAASuC,EAAU,wBAAyB,IAAKf,EAAA,EAAQyK,KAAK,iBAC5J,kBAAC,IAAD,CAAO6F,KAAK,IAAIC,OAAK,EAACC,UAAW,WAAO,OAAQ,kBAAC,EAAD,SAChD,kBAAC,IAAD,CAAOF,KAAK,SAASC,OAAK,EAACC,UAAWhL,IACtC,kBAAC,IAAD,CAAO8K,KAAK,YAAYC,OAAK,EAACC,UAAWrL,IACzC,kBAAC,IAAD,CAAOmL,KAAK,gBAAgBC,OAAK,EAACC,UAAW/K,IAC7C,kBAAC,IAAD,CAAO6K,KAAK,aAAaC,OAAK,EAACC,UAAW,SAAClR,GAAD,OAAW8Q,EAAY3C,GAAanO,MAC9E,kBAAC,IAAD,CAAOgR,KAAK,eAAeC,OAAK,EAACC,UAAW,kBAAMJ,EAAY1B,OAC9D,kBAAC,IAAD,CAAO4B,KAAK,UAAUC,OAAK,EAACC,UAAW,kBAAMJ,EAAYvF,OACzD,kBAAC,IAAD,CAAOyF,KAAK,SAASC,OAAK,EAACC,UAAW,kBAAMJ,EAAY1D,OACxD,kBAAC,IAAD,CAAO4D,KAAK,cAAcC,OAAK,EAACC,UAAW,kBAAMJ,EAAYtI,OAC7D,kBAAC,IAAD,CAAOwI,KAAK,sBAAsBC,OAAK,EAACC,UAAW,kBAAMJ,EAAY7H,GAAmB,CAACZ,MAAO,QAChG,kBAAC,IAAD,CAAO2I,KAAK,4BAA4BC,OAAK,EAACC,UAAW,SAAClR,GAAD,OAAW8Q,EAAY7H,GAAmBjJ,MACnG,kBAAC,IAAD,CAAOgR,KAAK,uBAAuBC,OAAK,EAACC,UAAW,SAAClR,GAAD,OAAW8Q,EAAY/G,GAAU/J,WCjE/EmR,QACW,cAA7B7O,OAAOjE,SAAS+S,UAEe,UAA7B9O,OAAOjE,SAAS+S,UAEhB9O,OAAOjE,SAAS+S,SAAS9H,MACvB,2DCZN+H,IAASC,OAAO,kBAAC,GAAD,MAAStQ,SAASuQ,eAAe,SD6H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBvM,MAAK,SAAAwM,GACJA,EAAaC,gBAEdxM,OAAM,SAAA9E,GACLC,QAAQD,MAAMA,EAAMI,c","file":"static/js/main.636194be.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 126;","module.exports = __webpack_public_path__ + \"static/media/mascot.be2424a9.png\";","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","import React from 'react'\n\n// set UserContext and add type\nconst UserContext = React.createContext({});\n\nexport const UserProvider = UserContext.Provider\nexport const UserConsumer = UserContext.Consumer\nexport default UserContext\n","import React, { useState, useEffect } from 'react';\nimport { useHistory } from \"react-router-dom\";\n\nimport UserContext from 'UserContext';\n\nimport { Menu, Icon } from 'antd';\nimport { BookOutlined, UserOutlined } from '@ant-design/icons';\nimport './index.less';\nconst { SubMenu } = Menu;\n\n\n\n\nconst Navbar = () => {\n  const [menu, setMenu] = useState(\"\");\n  const history = useHistory();\n  const userHooks = React.useContext(UserContext);\n  useEffect(() => {\n    // console.log(history.location.pathname);\n    switch (history.location.pathname) {\n      case '/':\n        setMenu(\"home\");\n        break;\n      case '/create':\n          setMenu(\"create\");\n        break;\n      case '/editProfile':\n          setMenu(\"users\");\n        break;\n      case '/register':\n          setMenu(\"register\");\n        break;\n      case '/login':\n        setMenu(\"login\");\n        break;\n      case '/today':\n        setMenu(\"today\");\n        break;\n      case '/notes-wiki':\n          setMenu(\"notes-wiki\");\n          break;\n      default:\n        if (history.location.pathname.slice(0,6) === '/users') {\n          setMenu(\"users\");\n        }\n        else {\n          setMenu(\"home\");\n        }\n    }\n  // eslint-disable-next-line\n  }, []);\n  return (\n    <Menu onClick={setMenu} selectedKeys={[menu]} mode=\"horizontal\" className=\"Navbar\">\n      <Menu.Item key=\"home\" onClick={() => history.push('/')}>\n        <Icon type=\"home\" />\n        Home\n      </Menu.Item>\n      <Menu.Item key=\"today\" onClick={() => history.push(\"/today\")}>\n        <Icon type=\"notification\" />\n        What's New\n      </Menu.Item>\n      <Menu.Item key=\"create\" onClick={() => history.push('/create')}>\n        <Icon type=\"file-add\" />\n        Create Note\n      </Menu.Item>\n      <Menu.Item key=\"notes-wiki\" onClick={() => history.push('/notes-wiki')}>\n        <BookOutlined />\n        Notes Wiki\n      </Menu.Item>\n      {userHooks.user.loggedIn ?\n        [\n          <Menu.Item key=\"logout\" className=\"logout-item\" onClick={() => {\n            userHooks.logout();\n            history.push('/');\n          }}>\n            <Icon type=\"down-square\" className=\"logout-icon\" />\n            Logout\n          </Menu.Item>,\n          <Menu.Item key=\"users\" className=\"profile-item\" onClick={() => {\n            history.push('/users/' + userHooks.user.username);\n          }}>\n            <UserOutlined className=\"profile-icon\" />\n            {\" \"}{userHooks.user.firstName}\n          </Menu.Item>\n        ]\n        :\n        [\n          <Menu.Item key=\"login\" className=\"login-item\" onClick={() => history.push('/login')}>\n            <Icon type=\"down-square\" className=\"login-icon\" />\n            Login\n          </Menu.Item>,\n          <Menu.Item key=\"register\" className=\"register-item\" onClick={() => history.push('/register')}>\n            <Icon type=\"down-square\" className=\"register-icon\" />\n            Register\n          </Menu.Item>\n        ]\n      }\n\n    </Menu>\n  )\n}\n\nexport default Navbar\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport './index.less';\nimport { FacebookOutlined, TeamOutlined, InstagramOutlined } from '@ant-design/icons';\n\nconst Footer = () => {\n\n  return (\n    <div className=\"Footer\">\n      <div className=\"icons-wrapper\">\n        <a href='/contributors'>\n          <TeamOutlined className=\"icon\"/>\n        </a>\n        <a href='https://www.facebook.com/acanotes/' target=\"_blank\" >\n          <FacebookOutlined className=\"icon\"/>\n        </a>\n        <a href='https://www.instagram.com/acanotes/' target=\"_blank\" >\n          <InstagramOutlined className=\"icon\"/>\n        </a>\n      </div>\n      <div className=\"copyright\">\n        Copyright © {(new Date).getFullYear()} AcaNotes.com\n      </div>\n    </div>\n  )\n}\n\nexport default Footer\n","import React from 'react';\nimport Navbar from 'components/Navbar';\nimport Footer from 'components/Footer';\n\nimport './index.less';\n\nconst MainLayout = (props) => {\n  return (\n    <div className=\"MainLayout\">\n      <Navbar />\n      {props.children}\n      <Footer />\n    </div>\n  )\n}\n\nexport default MainLayout\n","import React from 'react';\nimport { Button } from 'antd';\nimport MainLayout from 'layouts/MainLayout';\n\nimport mascot from 'assets/mascot.png';\nimport './index.less';\n\nconst MainPage = () => {\n  return (\n    <MainLayout>\n      <div className=\"MainPage\">\n        <div className=\"hero-container\">\n          <div className=\"container\">\n            <h1 className=\"title\">AcaNotes</h1>\n            <p className=\"sub-title\">The ultimate online note-sharing platform designed specifically for IB students. </p>\n          </div>\n        </div>\n        <div className=\"container\">\n          <h2>Students for students.</h2>\n          <p> AcaNotes is a resource that provides IB students with course notes from credible sources. Dedicated to help you achieve optimal results, we value your success over anything else. Here at AcaNotes, every student is a priority. </p>\n          <div className=\"mascot-wrapper\">\n            <img src={mascot} className=\"mascot\"/>\n          </div>\n        </div>\n        <div className=\"container\">\n          <h2>We are directed at IB</h2>\n          <p>Unlike Gradesaver or Litcharts, we are directed at the IB curriculum, with our resources coming straight from IB students who have exceled under the IB curriculum. </p>\n        </div>\n        <div className=\"container\">\n          <div className=\"signup-btn-wrapper\">\n            <a href=\"/register\">\n              <Button type=\"primary\" className=\"signup-btn\">SIGN UP NOW</Button>\n            </a>\n          </div>\n        </div>\n      </div>\n    </MainLayout>\n  )\n}\n\nexport default MainPage\n","import { message } from 'antd';\nexport const errorLogger = (error) => {\n  console.error(error);\n  if (error.response && error.response.data && error.response.data.error) {\n    message.error(error.response.data.error);\n  }\n  else if (error.message) {\n    message.error(error.message);\n  }\n}\n\nexport function getCookie(cname) {\n  var name = cname + \"=\";\n  var decodedCookie = decodeURIComponent(document.cookie);\n  var ca = decodedCookie.split(';');\n  for(var i = 0; i <ca.length; i++) {\n    var c = ca[i];\n    while (c.charAt(0) == ' ') {\n      c = c.substring(1);\n    }\n    if (c.indexOf(name) == 0) {\n      return c.substring(name.length, c.length);\n    }\n  }\n  return \"\";\n}\n\nexport function setCookie(cname, cvalue, exdays) {\n  var d = new Date();\n  d.setTime(d.getTime() + (exdays*24*60*60*1000));\n  var expires = \"expires=\"+ d.toUTCString();\n  document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\n}\n\nexport const tokenGetClaims = token => {\n  if (!token) {\n    return {};\n  }\n  const tokenArray = token.split('.');\n  if (tokenArray.length !== 3) {\n    return {};\n  }\n  return JSON.parse(window.atob(tokenArray[1].replace('-', '+').replace('_', '/')));\n};\n\nexport function getToken() {\n  return getCookie('acanotes_alpaca_token');\n}\n","let root = '';\nif (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') {\n  root = 'http://localhost:5000';\n}\n\nexport default {\n  API_URL: root,\n  routes: {\n    auth: {\n      login: \"/api/v1/auth/login.php\",\n      register: \"/api/v1/auth/register.php\",\n      verify:\"/api/v1/auth/verify.php\"\n    },\n    create: {\n      note: \"/api/v1/content/createNote.php\"\n    },\n    announcements: {\n      latest: \"/api/v1/announcements/latest.php\"\n    },\n    users: {\n      getTop: \"/api/v1/users/getTop.php\",\n      user: \"/api/v1/users/user.php\",\n      getPopularUploads: \"/api/v1/users/getPopularUploads.php\",\n      userImage: \"/api/v1/users/userImage.php\"\n    },\n    notes: {\n      getTopNotes: \"/api/v1/notes/getTopNotes.php\",\n      latest:\"/api/v1/notes/latest.php\",\n      getNote: \"/api/v1/notes/getNote.php\",\n      ratings: \"/api/v1/notes/ratings.php\",\n      search: \"/api/v1/notes/searchNotes.php\"\n    }\n  }\n}\n","import React, { useState, useEffect } from 'react';\n\nimport { Button, Form, Input, Icon, Checkbox, message, Card } from 'antd';\nimport './index.less';\n\nimport { useForm } from 'react-hook-form';\nimport UserContext from 'UserContext';\n\nimport { errorLogger } from 'utils';\nimport config from 'configuration';\nimport axios from 'axios';\n\nconst Register = () => {\n\n  const { register, handleSubmit, errors, setValue, watch } = useForm();\n  const [loading, setLoading] = useState(false);\n  const userHooks = React.useContext(UserContext);\n  const [registerStep, setRegisterStep] = useState(\"start\");\n\n  const onSubmit = (data) => {\n    console.log(data);\n    if (!data.username) {\n      message.error('Missing username or email');\n      return;\n    }\n    if (!data.password) {\n      message.error('Missing password');\n    }\n    // console.log(data);\n    // Add your axios stuff here\n    // data.email, data.password\n    console.log(data);\n    axios.post(config.API_URL + config.routes.auth.register, data).then((response: any) => {\n      console.log(response.data);\n      let user = response.data.user;\n      setRegisterStep(\"email\");\n\n    }).catch(errorLogger).finally(() => {\n      setLoading(false);\n    })\n  };\n\n  const handleChange = (e) => {\n    setValue(e.target.name, e.target.value);\n  };\n  // register inputs\n  useEffect(() => {\n    register({ name: 'username' }, { required: true});\n    register({ name: 'first'}, { required: true });\n    register({ name: 'last' });\n    register({ name: 'email' }, { required: true});\n    register({ name: 'password' }, { required: true, minLength: 0});\n    register({ name: 'confirmPassword' },  { required: true, validate: (value) => watch('password') === value });\n  }, []);\n\n  useEffect(() => {\n    console.log(errors);\n    if (errors.first || errors.last || errors.email || (errors.password && errors.password.type === \"required\") ||\n    (errors.confirmPassword && errors.confirmPassword.type === \"required\") || errors.username) {\n\n      message.error(\"Missing required fields\");\n    }\n    if (errors.password && errors.password.type === \"minLength\") {\n      message.error(\"Password must be at least 6 characters long\");\n    }\n    if (errors.confirmPassword && errors.confirmPassword.type === \"validate\") {\n      message.error(\"Passwords do not match\")\n    }\n  }, [errors]);\n\n  return (\n    <div className=\"Register\">\n      {registerStep === \"start\" &&\n        <Form\n          onSubmit={handleSubmit(onSubmit)}\n          className=\"register-form\"\n        >\n          <h2 className=\"register-title\">Register</h2>\n          <Form.Item validateStatus={errors.first && \"error\"}>\n            <Input\n              placeholder=\"First name\"\n              name=\"first\"\n              onChange={handleChange}\n\n            />\n          </Form.Item>\n          <Form.Item validateStatus={errors.last && \"error\"}>\n            <Input\n              placeholder=\"Last name\"\n              name=\"last\"\n              onChange={handleChange}\n            />\n          </Form.Item>\n          <Form.Item validateStatus={errors.username && \"error\"}>\n            <Input\n              prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n              placeholder=\"Username\"\n              name=\"username\"\n              onChange={handleChange}\n            />\n          </Form.Item>\n          <Form.Item validateStatus={errors.email && \"error\"}>\n            <Input\n              prefix={<Icon type=\"mail\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n              placeholder=\"Email\"\n              name=\"email\"\n              onChange={handleChange}\n            />\n          </Form.Item>\n          <Form.Item validateStatus={errors.password && \"error\"}>\n            <Input\n              prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n              type=\"password\"\n              placeholder=\"Password\"\n              name=\"password\"\n              onChange={handleChange}\n            />\n          </Form.Item>\n          <Form.Item validateStatus={errors.confirmPassword && \"error\"}>\n            <Input\n              prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n              type=\"password\"\n              placeholder=\"Confirm Password\"\n              name=\"confirmPassword\"\n              onChange={handleChange}\n            />\n          </Form.Item>\n          <Form.Item>\n            <Button type=\"primary\" htmlType=\"submit\" className=\"register-form-button\">\n              Register\n            </Button>\n          </Form.Item>\n        </Form>\n      }\n      { registerStep === \"email\" &&\n        <Card>\n          <h2 className=\"success-text\">Registration success! Check your email</h2>\n        </Card>\n      }\n    </div>\n  )\n}\n\nexport default Register\n","import React from 'react';\nimport Register from 'components/Auth/Register';\nimport MainLayout from 'layouts/MainLayout';\n\nimport './index.less';\n\nconst RegisterPage = () => {\n  return (\n    <MainLayout>\n      <div className=\"RegisterPage\">\n        <div className=\"main-container\">\n          <Register />\n        </div>\n      </div>\n    </MainLayout>\n  )\n}\n\nexport default RegisterPage\n","import React, { useState, useEffect } from 'react';\n\nimport { useForm } from 'react-hook-form';\nimport UserContext from 'UserContext';\nimport { useHistory } from \"react-router-dom\";\n\nimport { errorLogger, setCookie, tokenGetClaims } from 'utils';\nimport config from 'configuration';\nimport axios from 'axios';\n\nimport { Button, Form, Input, Icon, Checkbox, message } from 'antd';\nimport './index.less';\n\nconst Login = () => {\n\n  const { register, handleSubmit, setValue, errors } = useForm();\n  const [loading, setLoading] = useState(false);\n  const userHooks = React.useContext(UserContext);\n  const history = useHistory();\n  const onSubmit = (data) => {\n\n    console.log(data);\n    axios.post(config.API_URL + config.routes.auth.login, data).then((response: any) => {\n      console.log(response.data);\n\n      const claims = tokenGetClaims(response.data.token);\n      console.log(claims);\n      userHooks.setUser({token:response.data.token, loggedIn: true, ...claims});\n      setCookie('acanotes_alpaca_token', response.data.token, 7);\n      message.success(\"Logged in\");\n      history.push(\"/\");\n\n    }).catch(errorLogger).finally(() => {\n      setLoading(false);\n    })\n  };\n\n  const handleChange = (e) => {\n    setValue(e.target.name, e.target.value);\n  };\n  // register inputs\n  useEffect(() => {\n    register({ name: 'username' });\n    register({ name: 'password' });\n  }, []);\n  return (\n    <div className=\"Login\">\n      <Form\n        onSubmit={handleSubmit(onSubmit)}\n        className=\"login-form\"\n      >\n        <h2 className=\"login-title\">Login</h2>\n        <Form.Item validateStatus={errors.username && \"error\"}>\n          <Input\n            prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n            placeholder=\"Username or Email\"\n            name=\"username\"\n            onChange={handleChange}\n          />\n        </Form.Item>\n        <Form.Item validateStatus={errors.password && \"error\"}>\n          <Input\n            prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n            type=\"password\"\n            placeholder=\"Password\"\n            onChange={handleChange}\n            name=\"password\"\n          />\n        </Form.Item>\n        <Form.Item>\n          <Checkbox>Remember me</Checkbox>\n          <a className=\"login-form-forgot\" href=\"\">\n            Forgot password\n          </a>\n          <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\n            Log in\n          </Button>\n          Or <a href=\"/register\">register now!</a>\n        </Form.Item>\n      </Form>\n    </div>\n  )\n}\n\nexport default Login\n","import React from 'react';\nimport Login from 'components/Auth/Login';\nimport MainLayout from 'layouts/MainLayout';\nimport './index.less';\n\nconst LoginPage = () => {\n  return (\n    <MainLayout>\n      <div className=\"LoginPage\">\n        <div className=\"main-container\">\n          <Login />\n        </div>\n      </div>\n    </MainLayout>\n  )\n}\n\nexport default LoginPage\n","import React from 'react';\nimport { Button } from 'antd';\nimport MainLayout from 'layouts/MainLayout';\n\nimport './index.less';\n\nconst ContributorsPage = () => {\n  return (\n    <MainLayout>\n      <div className=\"ContributorsPage\">\n        <div className=\"main-container\">\n        <h2>Founding Members</h2>\n        <p>Andrew Liu</p>\n        <p>Vincent Cai</p>\n        <p>Stone Tao</p>\n        <p>Tom Jiao</p>\n        <p>Alex Xu</p>\n        <p>Emma Liu</p>\n        <p>David Yei</p>\n        <br/>\n        <h2>Current management team</h2>\n        <br/>\n        <h2>Project contributors</h2>\n        <br/>\n        <h2>Honorary Members</h2>\n        <br/>\n        </div>\n      </div>\n    </MainLayout>\n  )\n}\n\nexport default ContributorsPage\n","import React, { useState, useEffect } from 'react';\n\nimport './index.less';\n\nconst Header = (props) => {\n\n  return (\n    <div className=\"Header\">\n      {props.title}\n    </div>\n  )\n}\n\nexport default Header\n","import React, { useState, useEffect } from 'react';\nimport { Rate, Skeleton } from 'antd';\nimport { Link } from 'react-router-dom';\nimport './index.less';\n\nconst NoteCard = (props) => {\n\n  return (\n    <Link to={\"/notes-wiki/note/\" + props.a_id} className=\"NoteCard\">\n      <div className=\"notes-title\">Title: {props.a_title}</div>\n      <div className=\"notes-rating\"><Rate disabled value={props.a_rating}/></div>\n      <div className=\"notes-author\">Author: {props.a_author}</div>\n      <div className=\"notes-date\">Date: {props.a_date}</div>\n      <div className=\"notes-desc\">Description: {props.a_description}</div>\n      <div className=\"notes-downloads\">Downloads: {props.a_downloads}</div>\n    </Link>\n  )\n}\n\nexport default NoteCard\n","import React, { useState, useEffect } from 'react';\nimport { Rate, Skeleton } from 'antd';\nimport { Link } from 'react-router-dom';\nimport NoteCard from 'components/Notes/NoteCard';\nimport './index.less';\n\nconst NotesList = (props) => {\n\n  return (\n    <div className=\"NotesList\">\n      {props.notes && props.notes.length && props.notes.map((row, i) => {\n        if (row == \"empty\") {\n          return (\n            <div>No Notes!</div>\n          );\n        }\n        return (\n          <NoteCard {...row} key={i} />\n        )\n      })\n    }\n    {props.loading && <Skeleton active/>}\n    </div>\n  )\n}\n\nexport default NotesList\n","import axios from 'axios';\nimport config from 'configuration';\nimport { message } from 'antd';\n\nimport { getToken, setCookie, tokenGetClaims } from 'utils'\n\nexport async function uploadNote(data) {\n  return new Promise((resolve, reject) => {\n    axios({method: \"POST\", url:config.API_URL + config.routes.create.note, data:{class: data.class, description: data.description, title: data.title}, headers: {\n      Authorization: `Bearer ${getToken()}`\n    }}).then((response) => {\n\n      let rdata = response.data;\n      let signedUrl = rdata.signedUrl;\n      let key = rdata.key;\n      axios({\n        method: \"PUT\",\n        url: signedUrl,\n        data: data.file.file.originFileObj,\n        headers: { 'Content-Type': 'application/pdf' }\n      }).then((response) => {\n        console.log(response);\n        message.success(\"Succesfully uploaded note!\");\n        resolve(response);\n      }).catch((error) => {\n        console.error(error);\n        message.error(\"Failed to upload note, try again later\");\n        reject(error);\n      });\n\n    }).catch((error) => {\n      message.error(\"Failed to upload note, try again later\");\n      console.error(error);\n      reject(error);\n    });\n  });\n}\n\nexport async function getTopNotes(count = 5) {\n  return new Promise((resolve, reject) => {\n    axios({method: \"GET\", url:config.API_URL + config.routes.notes.getTopNotes + \"?count=\" + count, headers: {\n      Authorization: `Bearer ${getToken()}`\n    }}).then((response) => {\n      resolve(response);\n    }).catch((error) => {\n      message.error(\"Failed to retrieve popular notes\");\n      reject(error);\n    });\n  });\n}\n\nexport async function getLatestNotes(count = 5) {\n  return new Promise((resolve, reject) => {\n    axios({method: \"GET\", url:config.API_URL + config.routes.notes.latest + \"?count=\" + count, headers: {\n      Authorization: `Bearer ${getToken()}`\n    }}).then((response) => {\n      resolve(response);\n    }).catch((error) => {\n      message.error(\"Failed to retrieve latest notes\");\n      reject(error);\n    });\n  });\n}\n\nexport async function getNote(id) {\n  return new Promise((resolve, reject) => {\n    if (id === undefined) {\n      reject(new Error(\"No ID given\"));\n    }\n    axios({method: \"GET\", url:config.API_URL + config.routes.notes.getNote + \"?id=\" + id, headers: {\n      Authorization: `Bearer ${getToken()}`\n    }}).then((res) => {\n      resolve(res);\n    }).catch((error) => {\n      message.error(\"Failed to retrieve note\");\n      reject(error);\n    });\n  });\n}\n\nexport async function searchNotes(query) {\n  return new Promise((resolve, reject) => {\n    axios({method: \"GET\", url:config.API_URL + config.routes.notes.search + \"?search_query=\" + query, headers: {\n      Authorization: `Bearer ${getToken()}`\n    }}).then((response) => {\n      resolve(response);\n    }).catch((error) => {\n      message.error(\"Failed to retrieve notes\");\n      reject(error);\n    });\n  });\n}\n\n/*\n  Rating: {rating: number, note_id: number}\n*/\nexport async function rateNote(rating) {\n  return new Promise((resolve, reject) => {\n    if (rating === undefined) {\n      reject(new Error(\"No rating given\"));\n    }\n    axios({\n      method: \"POST\",\n      url: config.API_URL + config.routes.notes.ratings,\n      data: rating,\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    }).then((res) => {\n      message.success(\"Succesfully rated note\");\n      resolve(res);\n    }).catch((error) => {\n      message.error(\"Failed to rate note\");\n      reject(error);\n    });\n  });\n}\n\nexport async function getMyRating(noteID) {\n  return new Promise((resolve, reject) => {\n    if (noteID === undefined) {\n      reject(new Error(\"No rating given\"));\n    }\n    axios({\n      method: \"GET\",\n      url: config.API_URL + config.routes.notes.ratings + \"?note_id=\" + noteID,\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    }).then((res) => {\n      resolve(res.data);\n    }).catch((error) => {\n      message.error(\"Failed to get your rating\");\n      reject(error);\n    });\n  });\n}\n","import React, { useEffect, useState } from 'react';\nimport { Button, Input } from 'antd';\nimport MainLayout from 'layouts/MainLayout';\nimport Header from 'components/Header';\nimport NotesList from 'components/Notes/NotesList';\n\nimport { getTopNotes } from 'actions/notes';\nimport { useHistory } from \"react-router-dom\";\nimport './index.less';\n\nconst NotesWikiPage = () => {\n  const [topNotes, setTopNotes] = useState([\"empty\"]);\n  const [topNotesLoading, setLoading] = useState(true);\n  const history = useHistory();\n\n  useEffect(() => {\n    getTopNotes(5).then((res) => {\n      setTopNotes(JSON.parse(res.data.res));\n      setLoading(false);\n    })\n  }, []);\n  return (\n    <MainLayout>\n      <div className=\"NotesWikiPage\">\n        <Header title=\"Notes Wiki\"/>\n        <div className=\"main-container\">\n          <Input.Search enterButton=\"Search\" size=\"large\" onSearch={(val) => {\n            history.push(\"notes-wiki/search/\" + val);\n          }}/>\n          <h2>Trending Notes</h2>\n          <NotesList notes={topNotes} loading={topNotesLoading}/>\n        </div>\n      </div>\n    </MainLayout>\n  )\n}\n\nexport default NotesWikiPage\n","import React, { useEffect, useState } from 'react';\nimport { Button } from 'antd';\nimport MainLayout from 'layouts/MainLayout';\nimport Header from 'components/Header';\nimport NotesList from 'components/Notes/NotesList';\n\nimport { searchNotes } from 'actions/notes';\n\nimport './index.less';\n\nconst SearchResultsPage = (props) => {\n  const [searchedNotes, setSearchedNotes] = useState([\"empty\"]);\n  const [notesLoading, setLoading] = useState(true);\n\n  useEffect(() => {\n    let query = props.match ? props.match.params.query : props.query;\n    searchNotes(query).then((res) => {\n      setSearchedNotes(JSON.parse(res.data.res));\n      setLoading(false);\n    });\n  }, []);\n  return (\n    <MainLayout>\n      <div className=\"SearchResultsPage\">\n        <Header title=\"Search Notes\"/>\n        <div className=\"main-container\">\n          <h2>Search Result: </h2>\n          <NotesList notes={searchedNotes} loading={notesLoading}/>\n        </div>\n      </div>\n    </MainLayout>\n  )\n}\n\nexport default SearchResultsPage\n","import React, { useState, useEffect } from 'react';\nimport { Rate } from 'antd';\nimport { rateNote, getMyRating } from 'actions/notes';\nimport { errorLogger } from 'utils';\n\nimport './index.less';\n\n// Allows rating of a note, props { note_id: required }\nconst RateNote = (props) => {\n  const [myRating, setMyRating] = useState(0);\n  useEffect(() => {\n    if (props.note_id) {\n      getMyRating(props.note_id).then((res) => {\n        let rating = res.rating;\n        if (rating) {\n          rating = JSON.parse(rating);\n          setMyRating(rating.rating_value);\n        }\n      }).catch(errorLogger)\n    }\n  }, [props.note_id])\n  return (\n    <div className=\"RateNote\">\n      <Rate value={myRating} onChange={\n        (val) => {\n          rateNote({note_id: props.note_id, rating: val}).then((res) => {\n\n          }).catch((error) => {\n            errorLogger(error);\n            setMyRating(0);\n          })\n          setMyRating(val);\n        }\n      }\n      />\n    </div>\n  )\n}\n\nexport default RateNote\n","import React, { useEffect, useState } from 'react';\nimport { Document } from 'react-pdf/dist/entry.webpack';\nimport { Button, Rate } from 'antd';\nimport { DownloadOutlined } from '@ant-design/icons';\nimport MainLayout from 'layouts/MainLayout';\nimport Header from 'components/Header';\nimport RateNote from 'components/Notes/RateNote';\n\nimport { getNote } from 'actions/notes';\n\nimport { errorLogger } from 'utils';\n\nimport './index.less';\n\nconst NotePage = (props) => {\n  const [noteID, setID] = useState(props.match.params.id);\n  const [fileURI, setFileURI] = useState(\"a\");\n  const [note, setNote] = useState({});\n  const [myRating, setMyRating] = useState(0);\n  useEffect(() => {\n    setID(props.match.params.id);\n    getNote(props.match.params.id).then((res) => {\n      setFileURI(res.data.signedUrl);\n      setNote(JSON.parse(res.data.note));\n    }).catch((error) => {\n      errorLogger(error);\n    });\n  }, []);\n  return (\n    <MainLayout>\n      <div className=\"NotePage\">\n      <Header title=\"Note\"/>\n        <div className=\"main-container\">\n          <h2 className=\"title\">{note.a_title}</h2>\n          <div className=\"note-meta\">\n          <p className=\"author\">Author: <a href={'/users/' + note.a_author}>{note.a_author}</a></p>\n          <p className=\"subject\">Subject: <a href={'#'}>{note.a_subject}</a></p>\n          <p className=\"desc\">Description: {note.a_description}</p>\n          <p className=\"downloads\">Downloads: {note.a_downloads}</p>\n          <p className=\"rating\">Average Rating: {note.a_rating}/5</p>\n          <p>Rate this note</p>\n          <RateNote note_id={note.a_id} />\n          </div>\n          <div className=\"pdf-wrapper\">\n          <iframe\n          className=\"pdf-viewer\"\n            src={fileURI}\n          >\n          </iframe>\n          <div className=\"download-row\">\n            <DownloadOutlined />\n            <a href={fileURI} target=\"_blank\">Download</a>\n          </div>\n          </div>\n        </div>\n      </div>\n    </MainLayout>\n  )\n}\n\nexport default NotePage\n","import React, { useState, useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport UserContext from 'UserContext';\nimport { useHistory } from \"react-router-dom\";\nimport { UploadOutlined } from '@ant-design/icons';\nimport { errorLogger, setCookie, tokenGetClaims } from 'utils';\nimport config from 'configuration';\nimport axios from 'axios';\nimport { Form, Checkbox, Button, Icon, Input, Select, Upload, message } from 'antd';\nimport { uploadNote } from 'actions/notes';\n\nimport './index.less';\n\nconst { Option, OptGroup } = Select;\n\nconst CreateNote = () => {\n  const { register, handleSubmit, setValue, errors } = useForm();\n  const [progress, setProgress] = useState(false);\n  const userHooks = React.useContext(UserContext);\n  const history = useHistory();\n\n  const [ fileList, setFileList ] = useState([]);\n\n  const dummyRequest = ({ file, onSuccess }) => {\n    setTimeout(() => {\n      onSuccess(\"ok\");\n    }, 0);\n  };\n  const onFileChange = (info) => {\n    let fileList = [...info.fileList];\n    let lastFile = fileList[fileList.length - 1];\n    if (lastFile) {\n      setFileList([lastFile]);\n    }\n\n    setValue(\"file\", {file: lastFile});\n  }\n  const onSubmit = (data) => {\n    setProgress(true);\n    uploadNote({...data, token: userHooks.token}).then(() => {\n      setProgress(false);\n    }).catch((error) => {\n      setProgress(false);\n    });\n  };\n\n  const handleChange = (e) => {\n\n    setValue(e.target.name, e.target.value);\n  };\n  // register inputs\n  useEffect(() => {\n    register({ name: 'title' }, { required: true });\n    register({ name: 'class' }, { required: true });\n    register({ name: 'description' }, { required: true });\n    register({ name: 'file'});\n  }, []);\n  useEffect(() => {\n    if (errors.title || errors.class || errors.description) {\n      message.error(\"Missing required fields\")\n    }\n  }, [errors]);\n  return (\n    <div className=\"CreateNote\">\n      <Form\n        onSubmit={handleSubmit(onSubmit)}\n        className=\"createnote-form\"\n      >\n        <h2 className=\"createnote-title\">Create Notes</h2>\n        <Form.Item label=\"Title\" validateStatus={errors.title && \"error\"}>\n          <Input\n            placeholder=\"Title\"\n            name=\"title\"\n            onChange={handleChange}\n          />\n        </Form.Item>\n        <Form.Item label=\"Class\" validateStatus={errors.class && \"error\"}>\n          <Select\n            placeholder=\"Select A Class\"\n            name=\"class\"\n            onChange={(e) => {\n              setValue(\"class\", e);\n            }}\n          >\n            <OptGroup label=\"Group 1: Language and Literature\">\n              <Option value=\"English Lang Lit\">English A Lang & Lit</Option>\n              <Option value=\"English Lit\">English A Literature</Option>\n              <Option value=\"Chinese Lang Lit\">Chinese A Lang & Lit</Option>\n            </OptGroup>\n            <OptGroup label=\"Group 2: Language Acquisition\">\n              <Option value=\"Chinese B\">Chinese B</Option>\n              <Option value=\"French B\">French B</Option>\n              <Option value=\"Spanish B\">Spanish B</Option>\n              <Option value=\"English B\">English B</Option>\n              <Option value=\"Chinese AB\">Chinese AB initio</Option>\n              <Option value=\"French AB\">French AB initio</Option>\n              <Option value=\"Spanish AB\">Spanish AB initio</Option>\n            </OptGroup>\n            <OptGroup label=\"Group 3: Individuals and Societies\">\n              <Option value=\"Economics\">Economics</Option>\n              <Option value=\"Geography\">Geography</Option>\n              <Option value=\"Global Politics\">Global Politics</Option>\n              <Option value=\"History\">History</Option>\n              <Option value=\"Psychology\">Psychology</Option>\n              <Option value=\"ITGS\">ITGS</Option>\n              <Option value=\"Business and Mgmt\">Business and Management</Option>\n              <Option value=\"Philosophy\">Philosophy</Option>\n            </OptGroup>\n            <OptGroup label=\"Group 4: Sciences\">\n              <Option value=\"Physics\">Physics</Option>\n              <Option value=\"Chemistry\">Chemistry</Option>\n              <Option value=\"Biology\">Biology</Option>\n              <Option value=\"ESS\">Environmental Science</Option>\n              <Option value=\"Sports Science\">Sports Science</Option>\n            </OptGroup>\n            <OptGroup label=\"Group 5: Mathematics\">\n              <Option value=\"Math\">Math</Option>\n              <Option value=\"Computer Science\">Computer Science</Option>\n              <Option value=\"Math Studies\">Math Studies</Option>\n            </OptGroup>\n            <OptGroup label=\"Group 6: Arts\">\n              <Option value=\"Film\">Film</Option>\n              <Option value=\"Music\">Music</Option>\n              <Option value=\"Theatre\">Theatre</Option>\n              <Option value=\"Visual Arts\">Visual Arts</Option>\n            </OptGroup>\n            <OptGroup label=\"Other\">\n              <Option value=\"Other\">Other</Option>\n            </OptGroup>\n          </Select>\n        </Form.Item>\n        <Form.Item label=\"Description\" validateStatus={errors.description && \"error\"}>\n          <Input.TextArea\n            name=\"description\"\n            placeholder=\"Description\"\n            onChange={handleChange}\n          >\n          </Input.TextArea>\n        </Form.Item>\n        <Form.Item validateStatus={errors.file && \"error\"}>\n          <Upload name=\"file\" type=\"file\" customRequest={dummyRequest} fileList={fileList} onChange={onFileChange}\n            onRemove={\n              () => {\n                setFileList([]);\n              }\n            }\n          >\n            <Button>\n              <UploadOutlined /> Click to Upload\n            </Button>\n          </Upload>\n        </Form.Item>\n        <Form.Item>\n          <Button type=\"primary\" htmlType=\"submit\" className=\"createnote-button\" loading={progress}>\n            Create\n          </Button>\n        </Form.Item>\n      </Form>\n    </div>\n  )\n}\n\nexport default CreateNote\n","import React from 'react';\nimport { Button } from 'antd';\nimport MainLayout from 'layouts/MainLayout';\nimport CreateNote from 'components/CreateNote';\nimport './index.less';\n\nconst CreatePage = () => {\n  return (\n    <MainLayout>\n      <div className=\"CreatePage\">\n        <div className=\"main-container\">\n          <CreateNote />\n        </div>\n      </div>\n    </MainLayout>\n  )\n}\n\nexport default CreatePage\n","import React, { useState, useEffect } from 'react';\n\nimport './index.less';\n\nconst Card = (props) => {\n\n  return (\n    <div className=\"AcaCard\">\n      {props.children}\n    </div>\n  )\n}\n\nexport default Card\n","import React, { useState, useEffect } from 'react';\nimport './index.less';\n\nconst randomColors= (c) => {\n  let colors = [\"#e66465\", \"#9198e5\", \"#3f87a6\", \"#ebf8e1\", \"#ff9f1c\", \"#2ec4b6\", \"#cad695\", \"#6d5f64\"];\n  if (c) {\n    colors.splice(colors.indexOf(c), 1);\n  }\n  let randIndex = Math.floor(Math.random() * colors.length);\n  return colors[randIndex];\n}\n\nconst Avatar = (props) => {\n  let i1 = randomColors();\n  let i2 = randomColors(i1);\n  let c = \"linear-gradient(\" + Math.random() + \"turn, \" + i1  + \", \" + i2 + \")\";\n  useEffect(() => {\n    if (props.background != \"\") {\n      setBg(`url(\"${props.background}\")`);\n    }\n    else {\n      setBg(c);\n    }\n  }, [props.background]);\n  const [bg, setBg] = useState(c);\n\n  const [className, setClass] = useState(\"Avatar\");\n  useEffect(() => {\n    let append = \"\";\n    switch(props.size) {\n      case \"large\":\n      case \"small\":\n        append = props.size;\n        break;\n    }\n    setClass(\"Avatar \" + append + \" \" + props.className);\n  }, []);\n\n  return (\n    <div className={className} style={{backgroundImage:bg}}>\n    </div>\n  )\n}\n\nexport default Avatar\n","import axios from 'axios';\nimport config from 'configuration';\nimport { message } from 'antd';\n\nimport { getToken, setCookie, tokenGetClaims } from 'utils'\n\nexport async function getTop(count = 5) {\n  return new Promise((resolve, reject) => {\n    axios({method: \"GET\", url:config.API_URL + config.routes.users.getTop + \"?count=\" + count, headers: {\n      Authorization: `Bearer ${getToken()}`\n    }}).then((response) => {\n      resolve(response);\n    }).catch((error) => {\n      message.error(\"Failed to retrieve top users\");\n      reject(error);\n    });\n  });\n}\n\n// Returns only public user data for given username or id\nexport async function getUser(id) {\n  return new Promise((resolve, reject) => {\n    axios({method: \"GET\", url:config.API_URL + config.routes.users.user + \"?id=\" + id, headers: {\n      Authorization: `Bearer ${getToken()}`\n    }}).then((response) => {\n      resolve(JSON.parse(response.data.res));\n    }).catch((error) => {\n      message.error(\"Failed to retrieve user data\");\n      reject(error);\n    });\n  });\n}\n\n// Returns only public user profile picture URI given username or id\nexport async function getUserImage(id) {\n  return new Promise((resolve, reject) => {\n    axios({method: \"GET\", url:config.API_URL + config.routes.users.userImage + \"?id=\" + id, headers: {\n      Authorization: `Bearer ${getToken()}`\n    }}).then((res) => {\n      resolve(res.data.signedUrl);\n    }).catch((error) => {\n      message.error(\"Failed to retrieve user profile picture\");\n      reject(error);\n    });\n  });\n}\n\nexport async function getPopularUploads(user) {\n  return new Promise((resolve, reject) => {\n    axios({method: \"GET\", url:config.API_URL + config.routes.users.getPopularUploads + \"?id=\" + user, headers: {\n      Authorization: `Bearer ${getToken()}`\n    }}).then((response) => {\n      resolve(JSON.parse(response.data.res));\n    }).catch((error) => {\n      message.error(\"Failed to retrieve popular uploads\");\n      reject(error);\n    });\n  });\n}\n\n// updates user with new contents in user variable and returns new token if updated succesfully\nexport async function updateUser(user) {\n  return new Promise((resolve, reject) => {\n    axios({method: \"PATCH\", url:config.API_URL + config.routes.users.user + \"?id=\" + user.username,\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      },\n      data: user\n    }).then((response) => {\n      console.log(response);\n      resolve(response.data.token);\n    }).catch((error) => {\n      message.error(\"Failed to update user\");\n      reject(error);\n    });\n  });\n}\n\n// uploads user image for this user\nexport async function uploadUserImage(user, imageFile) {\n  return new Promise((resolve, reject) => {\n    axios({\n      method: \"PUT\", url:config.API_URL + config.routes.users.userImage + \"?id=\" + user.username,\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    }).then((response) => {\n\n      let rdata = response.data;\n      let signedUrl = rdata.signedUrl;\n      let key = rdata.key;\n      axios({\n        method: \"PUT\",\n        url: signedUrl,\n        data: imageFile,\n        headers: { 'Content-Type': 'application/image' }\n      }).then((response) => {\n        console.log(response);\n        message.success(\"Succesfully uploaded profile picture!\");\n        resolve(response);\n      }).catch((error) => {\n        console.error(error);\n        message.error(\"Failed to upload picture, try again later\");\n        reject(error);\n      });\n\n    }).catch((error) => {\n      message.error(\"Failed to upload picture, try again later\");\n      console.error(error);\n      reject(error);\n    });\n  });\n}\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Rate, Skeleton } from 'antd';\nimport Avatar from '../Avatar';\nimport './index.less';\nimport { getUserImage } from 'actions/users';\nimport { errorLogger } from 'utils'\n\nconst randomColors= (c) => {\n  let colors = [\"#e66465\", \"#9198e5\", \"#3f87a6\", \"#ebf8e1\", \"#ff9f1c\", \"#2ec4b6\", \"#cad695\", \"#6d5f64\"];\n  if (c) {\n    colors.splice(colors.indexOf(c), 1);\n  }\n  let randIndex = Math.floor(Math.random() * colors.length);\n  return colors[randIndex];\n}\n\nconst UserCard = (props) => {\n  let i1 = randomColors();\n  let i2 = randomColors(i1);\n  let c = \"linear-gradient(\" + Math.random() + \"turn, \" + i1  + \", \" + i2 + \")\";\n  const [userImage, setImage] = useState(props.user_image);\n  useEffect(() => {\n    if (!props.user_image) {\n      getUserImage(props.user_uid).then((res) => {\n        setImage(res);\n      }).catch(errorLogger)\n    }\n  }, [])\n  return (\n    <Link className=\"UserCard\" to={\"/users/\" + props.user_uid}>\n      <Avatar background={userImage}/>\n      <div className=\"user-name\">Name: {props.user_first}</div>\n      <div className=\"user-title\">Title: {props.user_title}</div>\n      <div className=\"user-rating\"><Rate disabled value={parseInt(props.user_rating)}/></div>\n      <div className=\"user-downloads\">Downloads: {props.user_downloads}</div>\n    </Link>\n  )\n}\n\nexport default UserCard\n","import React, { useState, useEffect } from 'react';\nimport { Rate, Skeleton } from 'antd';\nimport UserCard from '../UserCard';\nimport './index.less';\n\nconst UserList = (props) => {\n\n  return (\n    <div className=\"UserList\">\n      {props.users && props.users.length && props.users.map((row, i) => {\n        return (\n          <UserCard key={i} {...row}/>\n        )\n      })\n      }\n      {props.loading && <Skeleton active/>}\n    </div>\n  )\n}\n\nexport default UserList\n","import axios from 'axios';\nimport config from 'configuration';\nimport { message } from 'antd';\n\nimport { getToken, setCookie, tokenGetClaims } from 'utils'\n\nexport async function getAnnouncements(count = 1) {\n  return new Promise((resolve, reject) => {\n    axios({method: \"GET\", url:config.API_URL + config.routes.announcements.latest + \"?count=\" + count, headers: {\n      Authorization: `Bearer ${getToken()}`\n    }}).then((response) => {\n      resolve(response);\n    }).catch((error) => {\n      message.error(\"Failed to retrieve announcements\");\n      reject(error);\n    });\n  });\n}\n","import React, { useEffect, useState } from 'react';\nimport { Button, Rate, Skeleton } from 'antd';\nimport MainLayout from 'layouts/MainLayout';\nimport Header from 'components/Header';\nimport Card from 'components/Card';\nimport UserContext from 'UserContext';\n\nimport UserList from 'components/User/UserList';\nimport NotesList from 'components/Notes/NotesList';\n\nimport { getAnnouncements } from 'actions/announcements';\nimport { getTop } from 'actions/users';\nimport { getTopNotes, getLatestNotes } from 'actions/notes';\n\nimport './index.less';\n\nconst TodayPage = () => {\n  const [announcements, setAnnouncements] = useState([]);\n  const [topUsers, setTopUsers] = useState([]);\n  const [topNotes, setTopNotes] = useState([]);\n  const [latestNotes, setLatestNotes] = useState([]);\n\n  const [n1, setLoading1] = useState(true);\n  const [n2, setLoading2] = useState(true);\n  const [n3, setLoading3] = useState(true);\n\n  const userHooks = React.useContext(UserContext);\n  useEffect(() => {\n    getAnnouncements(3).then((res) => {\n      setAnnouncements(JSON.parse(res.data.res));\n    });\n\n  }, [])\n  useEffect(() => {\n    getTop(5).then((res) => {\n      setTopUsers(JSON.parse(res.data.res));\n      setLoading1(false);\n    })\n  }, []);\n  useEffect(() => {\n    getTopNotes(5).then((res) => {\n      setTopNotes(JSON.parse(res.data.res));\n      setLoading2(false);\n    })\n  }, []);\n  useEffect(() => {\n    getLatestNotes(5).then((res) => {\n      setLatestNotes(JSON.parse(res.data.res));\n      setLoading3(false);\n    })\n  }, []);\n  return (\n    <MainLayout>\n      <div className=\"TodayPage\">\n      <Header title=\"Today\"/>\n        <div className=\"container\">\n          <div className=\"card\">\n            <h2>Welcome {userHooks.user.firstName}!</h2>\n            <p>Welcome to your daily dashboard. Here, you can view the latest updates from the AcaNotes community! We wish you a pleasant stay.</p>\n          </div>\n          <div className=\"card\">\n            <h2>Official Announcements</h2>\n            {announcements.length ?\n              <div>\n                {announcements.map((row, i) => {\n                  return (\n                    <p key={i}>{row.announcement}</p>\n                  )\n                })}\n              </div> :\n              <Skeleton active />\n            }\n          </div>\n          <Card>\n            <h2 className=\"title\">Prominent Users</h2>\n            <UserList users={topUsers} loading={n1} />\n          </Card>\n          <Card>\n          <h2 className=\"title\">Popular Notes</h2>\n            <NotesList notes={topNotes} loading={n2} />\n          </Card>\n          <Card>\n            <h2 className=\"title\">Latest Notes</h2>\n            <NotesList notes={latestNotes} loading={n3} />\n          </Card>\n        </div>\n      </div>\n    </MainLayout>\n  )\n}\n\nexport default TodayPage\n","import React, { useEffect, useState } from 'react';\nimport { Button } from 'antd';\nimport MainLayout from 'layouts/MainLayout';\nimport Avatar from 'components/User/Avatar';\nimport NotesList from 'components/Notes/NotesList';\nimport { useParams, Link } from 'react-router-dom';\nimport { getUser, getPopularUploads, getUserImage } from 'actions/users';\n\nimport UserContext from 'UserContext.js';\nimport { errorLogger } from 'utils';\n\nimport './index.less';\n\nconst ProfilePage = () => {\n  const params = useParams();\n  const userHooks = React.useContext(UserContext);\n  const [profile, setProfile] = useState({});\n  const [popularUploads, setPopularUploads] = useState([]);\n  const [profilePic, setProfilePic] = useState(\"\");\n  const mine = params.id === userHooks.user.username;\n\n  useEffect(() => {\n\n    getUser(params.id).then((res) => {\n      console.log(res);\n      setProfile(res);\n    }).catch((error) => {\n      errorLogger(error);\n    })\n    getUserImage(params.id).then((res) => {\n      setProfilePic(res);\n    }).catch(errorLogger)\n    getPopularUploads(params.id).then((res) => {\n      setPopularUploads(res);\n    }).catch(errorLogger)\n  }, []);\n  return (\n    <MainLayout>\n      <div className=\"ProfilePage\">\n        <div className=\"main-container\">\n          <div className=\"profile-pic-wrapper\">\n            <Avatar size=\"large\" background={profilePic} className=\"avatar\"/>\n          </div>\n          <h2>{profile.user_first} {profile.user_last}</h2>\n          <div className=\"title\">Honorary Title: <span>{profile.user_title}</span></div>\n          <div className=\"rating\">Rating: {profile.user_rating || 0}/5</div>\n          <div className=\"downloads\">User Downloads: {profile.user_downloads}</div>\n          <div className=\"desc\">Description: <p>{profile.user_description || \"User has no description\"}</p></div>\n          <div className=\"popular-uploads\">\n            <div className=\"title\">Popular Uploads</div>\n            {popularUploads ? <NotesList notes={popularUploads}/> : <p>This user has no uploads available</p>}\n          </div>\n          { mine && <Link to={\"/editProfile\"}><Button size=\"large\">Edit Profile</Button></Link> }\n        </div>\n      </div>\n    </MainLayout>\n  )\n}\n\nexport default ProfilePage\n","import React, { useState, useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport UserContext from 'UserContext';\nimport { Button, Form, Input, Icon, message } from 'antd';\nimport { useHistory } from \"react-router-dom\";\nimport { errorLogger, setCookie, tokenGetClaims } from 'utils';\nimport config from 'configuration';\n\nimport { updateUser } from 'actions/users';\n\nimport './index.less';\n\nconst EditUserForm = (props) => {\n  const { register, handleSubmit, setValue, errors } = useForm();\n  const [loading, setLoading] = useState(false);\n  const userHooks = React.useContext(UserContext);\n  const history = useHistory();\n\n  const [madeEdit, setMadeEdit] = useState(false);\n\n  const onSubmit = (data) => {\n    updateUser({...data, username: userHooks.user.username}).then((token) => {\n      message.success(\"Updated Profile\");\n      const claims = tokenGetClaims(token);\n      userHooks.setUser({token:token, loggedIn: true, ...claims});\n      setCookie('acanotes_alpaca_token', token, 7);\n    }).catch(errorLogger)\n  };\n  const handleChange = (e) => {\n    setValue(e.target.name, e.target.value);\n    setMadeEdit(true);\n  };\n  // register inputs\n  useEffect(() => {\n    register({ name: 'firstName'}, { required: true });\n    register({ name: 'lastName' });\n    register({ name: 'description' });\n    register({ name: 'email' }, { required: true });\n    for (let key in userHooks.user) {\n      setValue(key, userHooks.user[key]);\n    }\n  }, []);\n\n  useEffect(() => {\n    console.log(errors);\n    if (errors.firstName || errors.lastName || errors.email) {\n      message.error(\"Fields can't be empty\");\n    }\n  }, [errors]);\n\n  return (\n    <Form\n      onSubmit={handleSubmit(onSubmit)}\n      className={\"EditUserForm \" + props.className}\n      name=\"EditUser\"\n    >\n      <Form.Item validateStatus={errors.first && \"error\"}>\n        <Input\n          placeholder=\"First name\"\n          name=\"firstName\"\n          defaultValue={userHooks.user.firstName}\n          onChange={handleChange}\n        />\n      </Form.Item>\n      <Form.Item validateStatus={errors.last && \"error\"}>\n        <Input\n          placeholder=\"Last name\"\n          name=\"lastName\"\n          defaultValue={userHooks.user.lastName}\n          onChange={handleChange}\n        />\n      </Form.Item>\n      <Form.Item validateStatus={errors.email && \"error\"}>\n        <Input\n          prefix={<Icon type=\"mail\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n          placeholder=\"Email\"\n          name=\"email\"\n          defaultValue={userHooks.user.email}\n          onChange={handleChange}\n        />\n      </Form.Item>\n      <Form.Item validateStatus={errors.description && \"error\"}>\n        <Input.TextArea\n          placeholder=\"Description\"\n          name=\"description\"\n          defaultValue={userHooks.user.description}\n          onChange={handleChange}\n        />\n      </Form.Item>\n      <Form.Item>\n        <Button type=\"primary\" htmlType=\"submit\" className=\"update-form-button\">\n          Update Profile\n        </Button>\n      </Form.Item>\n    </Form>\n  )\n}\n\nexport default EditUserForm\n","import React, { useEffect, useState, useRef } from 'react';\nimport { Button, Upload, Modal } from 'antd';\nimport { UploadOutlined } from '@ant-design/icons'\nimport MainLayout from 'layouts/MainLayout';\nimport Avatar from 'components/User/Avatar';\nimport EditUserForm  from 'components/User/EditUserForm';\nimport { useParams } from 'react-router-dom';\nimport { uploadUserImage } from 'actions/users';\n\nimport UserContext from 'UserContext.js';\nimport { errorLogger } from 'utils';\n\nimport './index.less';\n\nconst EditProfilePage = (props) => {\n  const params = useParams();\n  const userHooks = React.useContext(UserContext);\n\n  const [ bg, setBG ] = useState(\"\");\n  const [ fileList, setFileList ] = useState([]);\n  const [ visible, setVisible ] = useState(false);\n  const [ uploadState, setUploadState ] = useState(\"none\");\n  const dummyRequest = ({ file, onSuccess }) => {\n    setTimeout(() => {\n      onSuccess(\"ok\");\n    }, 0);\n  };\n  const onFileChange = (info) => {\n    let fileList = [...info.fileList];\n    URL.revokeObjectURL(bg);\n    if (fileList.length) {\n      let lastFile = fileList[fileList.length - 1];\n      if (lastFile) {\n        setFileList([lastFile]);\n      }\n      let newBg = URL.createObjectURL(lastFile.originFileObj);\n      console.log(newBg);\n      setBG(newBg);\n      console.log(lastFile);\n    }\n    else {\n      setBG(\"\");\n    }\n\n  }\n  const handleCancel = () => {\n    setVisible(false);\n    setUploadState(\"none\");\n  }\n  const showModal = () => {\n    setVisible(true);\n    console.log(uploadImageButton);\n  }\n  const uploadPhoto = () => {\n    console.log(\"Uploading...\");\n    setUploadState(\"uploading\");\n    uploadUserImage(userHooks.user, fileList[0].originFileObj).then((res) => {\n      setUploadState(\"none\");\n      setVisible(false);\n    }).catch((error) => {\n      setUploadState(\"none\");\n    })\n  }\n  const uploadImageButton = useRef(null);\n  return (\n    <MainLayout>\n      <div className=\"EditProfilePage\">\n\n        <div className=\"main-container\">\n          <div className=\"form-wrapper\">\n            <h2 className=\"edit-title\">Edit Profile</h2>\n            <Avatar size=\"large\" background={bg} className=\"avatar\"/>\n\n              <Button type=\"primary\" className=\"upload-modal-button\" onClick={showModal}>\n                Change Profile Picture\n              </Button>\n              <Modal\n                visible={visible}\n                title=\"Change Profile Picture\"\n                onOk={uploadPhoto}\n                onCancel={handleCancel}\n                className=\"EditProfilePage-Modal\"\n                footer={[\n                  <Button key=\"back\" onClick={handleCancel}>\n                    Return\n                  </Button>,\n                  <Button key=\"submit\" type=\"primary\" loading={uploadState === \"uploading\"} onClick={uploadPhoto} disabled={fileList.length == 0}>\n                    {uploadState !== \"uploading\" && <UploadOutlined />} Upload\n                  </Button>,\n                ]}\n              >\n                <div className=\"upload-wrapper\">\n                  <Upload className=\"upload-profile-pic\" name=\"file\" type=\"file\" customRequest={dummyRequest} fileList={fileList} onChange={onFileChange}\n                    onRemove={\n                      () => {\n                        setFileList([]);\n                      }\n                    }\n                  >\n                    <div className=\"new-profile-pic-wrapper\">\n                      <Avatar size=\"large\" background={bg} className=\"avatar\"/>\n                    </div>\n                    <Button className=\"upload-button\" innerRef={uploadImageButton}>\n                      Change Picture\n                    </Button>\n                  </Upload>\n                </div>\n              </Modal>\n\n            <EditUserForm default={userHooks.user} className=\"edit-form\"/>\n          </div>\n        </div>\n      </div>\n    </MainLayout>\n  )\n}\n\nexport default EditProfilePage\n","import axios from 'axios';\nimport config from 'configuration';\n\nexport async function verifyToken(token) {\n  return new Promise((resolve, reject) => {\n    axios.post(config.API_URL + config.routes.auth.verify, {token: token}).then( async (response: any) => {\n      let resData = response.data;\n      console.log()\n      resolve(resData);\n    }).catch((error: Error) => {\n      reject(error);\n    });\n  });\n}\n","import React, { useState, useEffect } from 'react';\nimport logo from './logo.svg';\nimport 'styles/index.less';\nimport {message} from 'antd';\n\nimport { BrowserRouter as Router, Route, Switch, Redirect } from \"react-router-dom\";\n\nimport MainPage from './pages/MainPage';\nimport RegisterPage from './pages/Auth/RegisterPage';\nimport LoginPage from './pages/Auth/LoginPage';\nimport ContributorsPage from './pages/Contributors';\nimport NotesWikiPage from './pages/NotesWiki';\nimport SearchResultsPage from './pages/NotesWiki/SearchResultsPage';\nimport NotePage from './pages/NotePage';\n\nimport CreatePage from './pages/Create';\nimport TodayPage from './pages/Today';\n\nimport ProfilePage from './pages/ProfilePage';\nimport EditProfilePage from './pages/EditProfilePage';\n\nimport { getCookie, setCookie, tokenGetClaims } from './utils'\nimport { verifyToken } from './actions/auth'\nimport { UserProvider } from './UserContext';\nlet tokenChecked = false;\n\nfunction App() {\n  const [user, setUser] = useState({token:\"\", loggedIn: false});\n  const [sessionReady, setSessionReady] = useState(false);\n  const token = getCookie('acanotes_alpaca_token');\n\n  useEffect(() => {\n\n    // if this token exists, check it and verify it\n    if (token != \"\") {\n      verifyToken(token).then(() => {\n        let user = tokenGetClaims(token);\n        setUser({token: token, loggedIn:true, ...user});\n        setSessionReady(true);\n        message.success(\"Welcome back \" + user.firstName);\n      }).catch((err) => {\n        // message.error(\"An error occured with trying to log you back in automatically\");\n        setSessionReady(true);\n      });\n    }\n    else {\n      setSessionReady(true);\n    }\n    // otherwise, do nothing\n  },[]);\n  const requireAuth = (Component, props) => {\n    if (user.loggedIn) {\n\n      return <Component {...props} />;\n    }\n    else {\n      message.info(\"You need to login to access that page\")\n      return <Redirect href=\"/\" />;\n    }\n  }\n  return (\n    <Router>\n      <div>\n        {sessionReady &&\n          <Switch>\n            <UserProvider value={{user: user, setUser: setUser, logout: () => {setUser({token:\"\", loggedIn: false}); setCookie(\"acanotes_alpaca_token\", \"\"); message.info(\"Logged out\")}}}>\n              <Route path=\"/\" exact component={() => {return (<MainPage />)}} />\n              <Route path=\"/login\" exact component={LoginPage} />\n              <Route path=\"/register\" exact component={RegisterPage} />\n              <Route path=\"/contributors\" exact component={ContributorsPage} />\n              <Route path=\"/users/:id\" exact component={(props) => requireAuth(ProfilePage, props)} />\n              <Route path=\"/editProfile\" exact component={() => requireAuth(EditProfilePage)} />\n              <Route path=\"/create\" exact component={() => requireAuth(CreatePage)} />\n              <Route path=\"/today\" exact component={() => requireAuth(TodayPage)} />\n              <Route path=\"/notes-wiki\" exact component={() => requireAuth(NotesWikiPage)} />\n              <Route path=\"/notes-wiki/search/\" exact component={() => requireAuth(SearchResultsPage, {query: \"\"})} />\n              <Route path=\"/notes-wiki/search/:query\" exact component={(props) => requireAuth(SearchResultsPage, props)} />\n              <Route path=\"/notes-wiki/note/:id\" exact component={(props) => requireAuth(NotePage, props)} />\n            </UserProvider>\n          </Switch>\n        }\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}